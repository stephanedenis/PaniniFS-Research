{
  "config": {
    "configFile": "/home/stephane/GitHub/PaniniFS-Research/playwright.config.js",
    "rootDir": "/home/stephane/GitHub/PaniniFS-Research/tests",
    "forbidOnly": false,
    "fullyParallel": true,
    "globalSetup": null,
    "globalTeardown": null,
    "globalTimeout": 0,
    "grep": {},
    "grepInvert": null,
    "maxFailures": 0,
    "metadata": {
      "actualWorkers": 8
    },
    "preserveOutput": "always",
    "reporter": [
      [
        "line",
        null
      ],
      [
        "json",
        {
          "outputFile": "test-results.json"
        }
      ]
    ],
    "reportSlowTests": {
      "max": 5,
      "threshold": 300000
    },
    "quiet": false,
    "projects": [
      {
        "outputDir": "/home/stephane/GitHub/PaniniFS-Research/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 8
        },
        "id": "firefox",
        "name": "firefox",
        "testDir": "/home/stephane/GitHub/PaniniFS-Research/tests",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      },
      {
        "outputDir": "/home/stephane/GitHub/PaniniFS-Research/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "actualWorkers": 8
        },
        "id": "chromium",
        "name": "chromium",
        "testDir": "/home/stephane/GitHub/PaniniFS-Research/tests",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      }
    ],
    "shard": null,
    "updateSnapshots": "missing",
    "updateSourceMethod": "patch",
    "version": "1.55.0",
    "workers": 8,
    "webServer": null
  },
  "suites": [
    {
      "title": "phonetique-corrigee.spec.js",
      "file": "phonetique-corrigee.spec.js",
      "column": 0,
      "line": 0,
      "specs": [],
      "suites": [
        {
          "title": "Phonétique Corrigée - Validation Enfantine",
          "file": "phonetique-corrigee.spec.js",
          "line": 3,
          "column": 6,
          "specs": [
            {
              "title": "Nouveau système phonémique présent",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "failed",
                      "duration": 7736,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=/pi/')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi/')\u001b[22m\n",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=/pi/')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi/')\u001b[22m\n\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:10:45",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 45,
                          "line": 10
                        },
                        "snippet": "\u001b[0m \u001b[90m  8 |\u001b[39m   test(\u001b[32m'Nouveau système phonémique présent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m  9 |\u001b[39m     \u001b[90m// Vérifier que les nouveaux phonèmes sont bien affichés\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/pi/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 11 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/tu/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 12 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/ka/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 13 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/ba/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 45,
                            "line": 10
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=/pi/')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi/')\u001b[22m\n\n\n\u001b[0m \u001b[90m  8 |\u001b[39m   test(\u001b[32m'Nouveau système phonémique présent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m  9 |\u001b[39m     \u001b[90m// Vérifier que les nouveaux phonèmes sont bien affichés\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/pi/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 11 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/tu/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 12 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/ka/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 13 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/ba/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:10:45\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:25.363Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a0613--système-phonémique-présent-firefox/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a0613--système-phonémique-présent-firefox/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a0613--système-phonémique-présent-firefox/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 45,
                        "line": 10
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-51b370a56cf402517ad5",
              "file": "phonetique-corrigee.spec.js",
              "line": 8,
              "column": 3
            },
            {
              "title": "Triangle vocalique respecté",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 1,
                      "parallelIndex": 1,
                      "status": "passed",
                      "duration": 2563,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:25.457Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "14bbde92fdd67df45226-a2ca42d5b06d791eb937",
              "file": "phonetique-corrigee.spec.js",
              "line": 21,
              "column": 3
            },
            {
              "title": "Consonnes précoces uniquement",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 2,
                      "parallelIndex": 2,
                      "status": "failed",
                      "duration": 3589,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: not \u001b[32m\"/ra/\"\u001b[39m\nReceived string:        \u001b[31m\"<!DOCTYPE html><html lang=\\\"fr\\\"><head>\u001b[39m\n\u001b[31m    <meta charset=\\\"UTF-8\\\">\u001b[39m\n\u001b[31m    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\u001b[39m\n\u001b[31m    <title>PaniniGraph Simplifié - Symboles SVG Cohérents</title>\u001b[39m\n\u001b[31m    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js\\\"></script>\u001b[39m\n\u001b[31m    <style>\u001b[39m\n\u001b[31m        body {\u001b[39m\n\u001b[31m            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\u001b[39m\n\u001b[31m            margin: 0;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .container {\u001b[39m\n\u001b[31m            max-width: 1200px;\u001b[39m\n\u001b[31m            margin: 0 auto;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            backdrop-filter: blur(10px);\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        h1 {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            font-size: 2.5em;\u001b[39m\n\u001b[31m            margin-bottom: 10px;\u001b[39m\n\u001b[31m            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .subtitle {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            opacity: 0.8;\u001b[39m\n\u001b[31m            margin-bottom: 30px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .toolbar {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn {\u001b[39m\n\u001b[31m            padding: 10px 15px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 8px;\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            font-size: 14px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            gap: 8px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn:hover {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.3);\u001b[39m\n\u001b[31m            transform: translateY(-2px);\u001b[39m\n\u001b[31m            box-shadow: 0 4px 12px rgba(0,0,0,0.2);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .controls {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .control-btn {\u001b[39m\n\u001b[31m            padding: 12px 20px;\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 25px;\u001b[39m\n\u001b[31m            font-size: 16px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linearize-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .clear-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fa7268, #ff7675);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .speak-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #a29bfe, #6c5ce7);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .demo-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fd79a8, #fdcb6e);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .canvas-container {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.95);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            min-height: 400px;\u001b[39m\n\u001b[31m            position: relative;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        #canvas {\u001b[39m\n\u001b[31m            width: 100%;\u001b[39m\n\u001b[31m            height: 400px;\u001b[39m\n\u001b[31m            border: 2px dashed #ddd;\u001b[39m\n\u001b[31m            border-radius: 10px;\u001b[39m\n\u001b[31m            background: #f8f9fa;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept {\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept:hover {\u001b[39m\n\u001b[31m            transform: scale(1.05);\u001b[39m\n\u001b[31m            filter: brightness(1.1);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept text {\u001b[39m\n\u001b[31m            font-size: 20px;\u001b[39m\n\u001b[31m            text-anchor: middle;\u001b[39m\n\u001b[31m            dominant-baseline: middle;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .relation-line {\u001b[39m\n\u001b[31m            stroke-width: 3;\u001b[39m\n\u001b[31m            stroke-linecap: round;\u001b[39m\n\u001b[31m            opacity: 0.7;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .instructions {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        @keyframes pulse {\u001b[39m\n\u001b[31m            0%, 100% { transform: scale(1); }\u001b[39m\n\u001b[31m            50% { transform: scale(1.1); }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .pulsing {\u001b[39m\n\u001b[31m            animation: pulse 2s infinite;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linear-display {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-top: 20px;\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            min-height: 60px;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .phoneme {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            padding: 8px 15px;\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            font-family: monospace;\u001b[39m\n\u001b[31m            font-size: 18px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            margin: 5px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m    </style>\u001b[39m\n\u001b[31m</head>\u001b[39m\n\u001b[31m<body>\u001b[39m\n\u001b[31m    <div class=\\\"container\\\">\u001b[39m\n\u001b[31m        <h1>🎯 PaniniGraph Simplifié</h1>\u001b[39m\n\u001b[31m        <p class=\\\"subtitle\\\">Symboles cohérents - Une modalité, clarté maximale</p>\u001b[39m\n\u001b[31m        \u001b[39m\n\u001b[31m        <div class=\\\"instructions\\\">\u001b[39m\n\u001b[31m            <h3>🎯 Système Unifié Simplifié</h3>\u001b[39m\n\u001b[31m            <p>1. <strong>Symboles homogènes</strong> : Formes géométriques pures pour une cohérence parfaite</p>\u001b[39m\n\u001b[31m            <p>2. <strong>Une seule représentation</strong> : Fini la confusion entre modalités multiples</p>\u001b[39m\n\u001b[31m            <p>3. <strong>Sémantique immédiate</strong> : Chaque forme évoque directement son concept</p>\u001b[39m\n\u001b[31m            <p>4. Placez les primitives puis \\\"📏 Linéariser\\\" pour voir l'animation</p>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"toolbar\\\">\u001b[39m\n\u001b[31m            <div>\u001b[39m\n\u001b[31m                <strong>Primitives Dhātu Simplifiées :</strong><br>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('existence')\\\" title=\\\"/pa/ - Ancrage stable\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⬢</span> EXISTENCE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('transformation')\\\" title=\\\"/ta/ - Changement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⟲</span> TRANSFORMATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('structure')\\\" title=\\\"/ka/ - Organisation\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">▦</span> STRUCTURE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('flux')\\\" title=\\\"/sa/ - Écoulement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">≈</span> FLUX\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('liaison')\\\" title=\\\"/ma/ - Connexion\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◎</span> LIAISON\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('negation')\\\" title=\\\"/na/ - Absence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◯</span> NÉGATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('iteration')\\\" title=\\\"/la/ - Répétition\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⋯</span> ITÉRATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('reflection')\\\" title=\\\"\u001b[7m/ra/\u001b[27m - Symétrie\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⧨</span> RÉFLEXION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('unification')\\\" title=\\\"/wa/ - Convergence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◆</span> UNIFICATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m            </div>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"controls\\\">\u001b[39m\n\u001b[31m            <button class=\\\"control-btn linearize-btn\\\" onclick=\\\"linearizeGraph()\\\">📏 Linéariser</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn clear-btn\\\" onclick=\\\"clearCanvas()\\\">🗑️ Effacer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn speak-btn\\\" onclick=\\\"speakPhonemes()\\\">🔊 Prononcer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn demo-btn\\\" onclick=\\\"loadDemo()\\\">🎬 Démo</button>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"canvas-container\\\">\u001b[39m\n\u001b[31m            <svg id=\\\"canvas\\\" viewBox=\\\"0 0 800 400\\\">\u001b[39m\n\u001b[31m                <!-- Zone de placement des concepts -->\u001b[39m\n\u001b[31m            </svg>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"linear-display\\\" id=\\\"linearDisplay\\\">\u001b[39m\n\u001b[31m            <em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m    </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m    <script>\u001b[39m\n\u001b[31m        // Système Phonétique Corrigé - Acquisition Enfantine Optimisée\u001b[39m\n\u001b[31m        const primitiveSystem = {\u001b[39m\n\u001b[31m            'existence': {\u001b[39m\n\u001b[31m                phoneme: '/pi/',\u001b[39m\n\u001b[31m                symbol: \\\"⬢\\\",\u001b[39m\n\u001b[31m                description: \\\"Entité précise, existence délimitée\\\",\u001b[39m\n\u001b[31m                color: '#e74c3c'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'transformation': {\u001b[39m\n\u001b[31m                phoneme: '/tu/',\u001b[39m\n\u001b[31m                symbol: \\\"⟲\\\",\u001b[39m\n\u001b[31m                description: \\\"Processus continu, évolution fluide\\\",\u001b[39m\n\u001b[31m                color: '#3498db'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'structure': {\u001b[39m\n\u001b[31m                phoneme: '/ka/',\u001b[39m\n\u001b[31m                symbol: \\\"▦\\\",\u001b[39m\n\u001b[31m                description: \\\"Architecture stable, organisation solide\\\",\u001b[39m\n\u001b[31m                color: '#2ecc71'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'flux': {\u001b[39m\n\u001b[31m                phoneme: '/ba/',\u001b[39m\n\u001b[31m                symbol: \\\"≈\\\",\u001b[39m\n\u001b[31m                description: \\\"Écoulement libre, flux naturel\\\",\u001b[39m\n\u001b[31m                color: '#f39c12'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'liaison': {\u001b[39m\n\u001b[31m                phoneme: '/mu/',\u001b[39m\n\u001b[31m                symbol: \\\"◎\\\",\u001b[39m\n\u001b[31m                description: \\\"Centre focal, concentration unifiante\\\",\u001b[39m\n\u001b[31m                color: '#9b59b6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'negation': {\u001b[39m\n\u001b[31m                phoneme: '/ni/',\u001b[39m\n\u001b[31m                symbol: \\\"◯\\\",\u001b[39m\n\u001b[31m                description: \\\"Unité complète, totalité fermée\\\",\u001b[39m\n\u001b[31m                color: '#95a5a6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'iteration': {\u001b[39m\n\u001b[31m                phoneme: '/da/',\u001b[39m\n\u001b[31m                symbol: \\\"⋯\\\",\u001b[39m\n\u001b[31m                description: \\\"Connexion directe, liaison immédiate\\\",\u001b[39m\n\u001b[31m                color: '#e67e22'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'reflection': {\u001b[39m\n\u001b[31m                phoneme: '/gi/',\u001b[39m\n\u001b[31m                symbol: \\\"⧨\\\",\u001b[39m\n\u001b[31m                description: \\\"Interaction dynamique, relation active\\\",\u001b[39m\n\u001b[31m                color: '#34495e'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'unification': {\u001b[39m\n\u001b[31m                phoneme: '/bu/',\u001b[39m\n\u001b[31m                symbol: \\\"◆\\\",\u001b[39m\n\u001b[31m                description: \\\"Synthèse complète, fusion totale\\\",\u001b[39m\n\u001b[31m                color: '#f1c40f'\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        };\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        let concepts = [];\u001b[39m\n\u001b[31m        let isLinearized = false;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function addPrimitive(type) {\u001b[39m\n\u001b[31m            if (isLinearized) {\u001b[39m\n\u001b[31m                alert('Effacez d\\\\'abord pour ajouter de nouveaux concepts');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            const rect = canvas.getBoundingClientRect();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Position aléatoire dans le canvas\u001b[39m\n\u001b[31m            const x = Math.random() * 700 + 50;\u001b[39m\n\u001b[31m            const y = Math.random() * 300 + 50;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const primitive = primitiveSystem[type];\u001b[39m\n\u001b[31m            const conceptId = `concept-${Date.now()}`;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Créer l'élément SVG\u001b[39m\n\u001b[31m            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\u001b[39m\n\u001b[31m            group.setAttribute('class', 'concept');\u001b[39m\n\u001b[31m            group.setAttribute('id', conceptId);\u001b[39m\n\u001b[31m            group.setAttribute('transform', `translate(${x}, ${y})`);\u001b[39m\n\u001b[31m            group.setAttribute('data-type', type);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Cercle de fond\u001b[39m\n\u001b[31m            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\u001b[39m\n\u001b[31m            circle.setAttribute('cx', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('cy', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('r', '25');\u001b[39m\n\u001b[31m            circle.setAttribute('fill', primitive.color);\u001b[39m\n\u001b[31m            circle.setAttribute('stroke', 'white');\u001b[39m\n\u001b[31m            circle.setAttribute('stroke-width', '2');\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Symbole\u001b[39m\n\u001b[31m            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\u001b[39m\n\u001b[31m            text.setAttribute('x', '0');\u001b[39m\n\u001b[31m            text.setAttribute('y', '5');\u001b[39m\n\u001b[31m            text.setAttribute('fill', 'white');\u001b[39m\n\u001b[31m            text.setAttribute('font-size', '20');\u001b[39m\n\u001b[31m            text.setAttribute('text-anchor', 'middle');\u001b[39m\n\u001b[31m            text.setAttribute('dominant-baseline', 'middle');\u001b[39m\n\u001b[31m            text.textContent = primitive.symbol;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            group.appendChild(circle);\u001b[39m\n\u001b[31m            group.appendChild(text);\u001b[39m\n\u001b[31m            canvas.appendChild(group);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Ajouter à la liste\u001b[39m\n\u001b[31m            concepts.push({\u001b[39m\n\u001b[31m                id: conceptId,\u001b[39m\n\u001b[31m                type: type,\u001b[39m\n\u001b[31m                x: x,\u001b[39m\n\u001b[31m                y: y,\u001b[39m\n\u001b[31m                element: group\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation d'apparition\u001b[39m\n\u001b[31m            gsap.from(group, {\u001b[39m\n\u001b[31m                scale: 0,\u001b[39m\n\u001b[31m                rotation: 360,\u001b[39m\n\u001b[31m                duration: 0.5,\u001b[39m\n\u001b[31m                ease: \\\"back.out(1.7)\\\"\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function clearCanvas() {\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                canvas.removeChild(concept.element);\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            concepts = [];\u001b[39m\n\u001b[31m            isLinearized = false;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                '<em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>';\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function linearizeGraph() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Ajoutez des concepts d\\\\'abord !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            isLinearized = true;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Trier les concepts par position X (de gauche à droite)\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation vers une ligne horizontale\u001b[39m\n\u001b[31m            sortedConcepts.forEach((concept, index) => {\u001b[39m\n\u001b[31m                const targetX = 100 + index * 80;\u001b[39m\n\u001b[31m                const targetY = 200;\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                gsap.to(concept.element, {\u001b[39m\n\u001b[31m                    attr: { transform: `translate(${targetX}, ${targetY})` },\u001b[39m\n\u001b[31m                    duration: 1,\u001b[39m\n\u001b[31m                    delay: index * 0.1,\u001b[39m\n\u001b[31m                    ease: \\\"power2.inOut\\\"\u001b[39m\n\u001b[31m                });\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                concept.x = targetX;\u001b[39m\n\u001b[31m                concept.y = targetY;\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Afficher la séquence phonémique\u001b[39m\n\u001b[31m            setTimeout(() => {\u001b[39m\n\u001b[31m                const phonemes = sortedConcepts.map(concept => {\u001b[39m\n\u001b[31m                    const primitive = primitiveSystem[concept.type];\u001b[39m\n\u001b[31m                    return `<span class=\\\"phoneme\\\" style=\\\"background-color: ${primitive.color};\\\">${primitive.phoneme}</span>`;\u001b[39m\n\u001b[31m                }).join('');\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                    `<strong>Séquence Phonémique :</strong> ${phonemes}`;\u001b[39m\n\u001b[31m            }, 1500);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function speakPhonemes() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Aucun concept à prononcer !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            const phonemes = sortedConcepts.map(concept => \u001b[39m\n\u001b[31m                primitiveSystem[concept.type].phoneme.replace(/[\\\\/]/g, '')\u001b[39m\n\u001b[31m            ).join(' ');\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            if ('speechSynthesis' in window) {\u001b[39m\n\u001b[31m                const utterance = new SpeechSynthesisUtterance(phonemes);\u001b[39m\n\u001b[31m                utterance.rate = 0.7;\u001b[39m\n\u001b[31m                utterance.pitch = 1.2;\u001b[39m\n\u001b[31m                speechSynthesis.speak(utterance);\u001b[39m\n\u001b[31m            } else {\u001b[39m\n\u001b[31m                alert(`Phonèmes : ${phonemes}`);\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function loadDemo() {\u001b[39m\n\u001b[31m            clearCanvas();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Charger une démonstration avec quelques concepts\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('existence'), 200);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('transformation'), 400);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('liaison'), 600);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('unification'), 800);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        // Clic pour déplacer les concepts\u001b[39m\n\u001b[31m        document.getElementById('canvas').addEventListener('click', function(e) {\u001b[39m\n\u001b[31m            if (isLinearized) return;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const rect = e.target.getBoundingClientRect();\u001b[39m\n\u001b[31m            const canvasRect = this.getBoundingClientRect();\u001b[39m\n\u001b[31m            const x = e.clientX - canvasRect.left;\u001b[39m\n\u001b[31m            const y = e.clientY - canvasRect.top;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Trouver le concept le plus proche pour le déplacer\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                const distance = Math.sqrt(\u001b[39m\n\u001b[31m                    Math.pow(concept.x - x, 2) + Math.pow(concept.y - y, 2)\u001b[39m\n\u001b[31m                );\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                if (distance < 50) {\u001b[39m\n\u001b[31m                    concept.x = x;\u001b[39m\n\u001b[31m                    concept.y = y;\u001b[39m\n\u001b[31m                    \u001b[39m\n\u001b[31m                    gsap.to(concept.element, {\u001b[39m\n\u001b[31m                        attr: { transform: `translate(${x}, ${y})` },\u001b[39m\n\u001b[31m                        duration: 0.3,\u001b[39m\n\u001b[31m                        ease: \\\"power2.out\\\"\u001b[39m\n\u001b[31m                    });\u001b[39m\n\u001b[31m                }\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        });\u001b[39m\n\u001b[31m    </script>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m</body></html>\"\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: not \u001b[32m\"/ra/\"\u001b[39m\nReceived string:        \u001b[31m\"<!DOCTYPE html><html lang=\\\"fr\\\"><head>\u001b[39m\n\u001b[31m    <meta charset=\\\"UTF-8\\\">\u001b[39m\n\u001b[31m    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\u001b[39m\n\u001b[31m    <title>PaniniGraph Simplifié - Symboles SVG Cohérents</title>\u001b[39m\n\u001b[31m    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js\\\"></script>\u001b[39m\n\u001b[31m    <style>\u001b[39m\n\u001b[31m        body {\u001b[39m\n\u001b[31m            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\u001b[39m\n\u001b[31m            margin: 0;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .container {\u001b[39m\n\u001b[31m            max-width: 1200px;\u001b[39m\n\u001b[31m            margin: 0 auto;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            backdrop-filter: blur(10px);\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        h1 {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            font-size: 2.5em;\u001b[39m\n\u001b[31m            margin-bottom: 10px;\u001b[39m\n\u001b[31m            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .subtitle {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            opacity: 0.8;\u001b[39m\n\u001b[31m            margin-bottom: 30px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .toolbar {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn {\u001b[39m\n\u001b[31m            padding: 10px 15px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 8px;\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            font-size: 14px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            gap: 8px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn:hover {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.3);\u001b[39m\n\u001b[31m            transform: translateY(-2px);\u001b[39m\n\u001b[31m            box-shadow: 0 4px 12px rgba(0,0,0,0.2);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .controls {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .control-btn {\u001b[39m\n\u001b[31m            padding: 12px 20px;\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 25px;\u001b[39m\n\u001b[31m            font-size: 16px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linearize-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .clear-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fa7268, #ff7675);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .speak-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #a29bfe, #6c5ce7);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .demo-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fd79a8, #fdcb6e);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .canvas-container {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.95);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            min-height: 400px;\u001b[39m\n\u001b[31m            position: relative;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        #canvas {\u001b[39m\n\u001b[31m            width: 100%;\u001b[39m\n\u001b[31m            height: 400px;\u001b[39m\n\u001b[31m            border: 2px dashed #ddd;\u001b[39m\n\u001b[31m            border-radius: 10px;\u001b[39m\n\u001b[31m            background: #f8f9fa;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept {\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept:hover {\u001b[39m\n\u001b[31m            transform: scale(1.05);\u001b[39m\n\u001b[31m            filter: brightness(1.1);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept text {\u001b[39m\n\u001b[31m            font-size: 20px;\u001b[39m\n\u001b[31m            text-anchor: middle;\u001b[39m\n\u001b[31m            dominant-baseline: middle;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .relation-line {\u001b[39m\n\u001b[31m            stroke-width: 3;\u001b[39m\n\u001b[31m            stroke-linecap: round;\u001b[39m\n\u001b[31m            opacity: 0.7;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .instructions {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        @keyframes pulse {\u001b[39m\n\u001b[31m            0%, 100% { transform: scale(1); }\u001b[39m\n\u001b[31m            50% { transform: scale(1.1); }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .pulsing {\u001b[39m\n\u001b[31m            animation: pulse 2s infinite;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linear-display {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-top: 20px;\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            min-height: 60px;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .phoneme {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            padding: 8px 15px;\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            font-family: monospace;\u001b[39m\n\u001b[31m            font-size: 18px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            margin: 5px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m    </style>\u001b[39m\n\u001b[31m</head>\u001b[39m\n\u001b[31m<body>\u001b[39m\n\u001b[31m    <div class=\\\"container\\\">\u001b[39m\n\u001b[31m        <h1>🎯 PaniniGraph Simplifié</h1>\u001b[39m\n\u001b[31m        <p class=\\\"subtitle\\\">Symboles cohérents - Une modalité, clarté maximale</p>\u001b[39m\n\u001b[31m        \u001b[39m\n\u001b[31m        <div class=\\\"instructions\\\">\u001b[39m\n\u001b[31m            <h3>🎯 Système Unifié Simplifié</h3>\u001b[39m\n\u001b[31m            <p>1. <strong>Symboles homogènes</strong> : Formes géométriques pures pour une cohérence parfaite</p>\u001b[39m\n\u001b[31m            <p>2. <strong>Une seule représentation</strong> : Fini la confusion entre modalités multiples</p>\u001b[39m\n\u001b[31m            <p>3. <strong>Sémantique immédiate</strong> : Chaque forme évoque directement son concept</p>\u001b[39m\n\u001b[31m            <p>4. Placez les primitives puis \\\"📏 Linéariser\\\" pour voir l'animation</p>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"toolbar\\\">\u001b[39m\n\u001b[31m            <div>\u001b[39m\n\u001b[31m                <strong>Primitives Dhātu Simplifiées :</strong><br>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('existence')\\\" title=\\\"/pa/ - Ancrage stable\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⬢</span> EXISTENCE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('transformation')\\\" title=\\\"/ta/ - Changement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⟲</span> TRANSFORMATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('structure')\\\" title=\\\"/ka/ - Organisation\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">▦</span> STRUCTURE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('flux')\\\" title=\\\"/sa/ - Écoulement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">≈</span> FLUX\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('liaison')\\\" title=\\\"/ma/ - Connexion\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◎</span> LIAISON\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('negation')\\\" title=\\\"/na/ - Absence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◯</span> NÉGATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('iteration')\\\" title=\\\"/la/ - Répétition\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⋯</span> ITÉRATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('reflection')\\\" title=\\\"\u001b[7m/ra/\u001b[27m - Symétrie\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⧨</span> RÉFLEXION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('unification')\\\" title=\\\"/wa/ - Convergence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◆</span> UNIFICATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m            </div>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"controls\\\">\u001b[39m\n\u001b[31m            <button class=\\\"control-btn linearize-btn\\\" onclick=\\\"linearizeGraph()\\\">📏 Linéariser</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn clear-btn\\\" onclick=\\\"clearCanvas()\\\">🗑️ Effacer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn speak-btn\\\" onclick=\\\"speakPhonemes()\\\">🔊 Prononcer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn demo-btn\\\" onclick=\\\"loadDemo()\\\">🎬 Démo</button>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"canvas-container\\\">\u001b[39m\n\u001b[31m            <svg id=\\\"canvas\\\" viewBox=\\\"0 0 800 400\\\">\u001b[39m\n\u001b[31m                <!-- Zone de placement des concepts -->\u001b[39m\n\u001b[31m            </svg>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"linear-display\\\" id=\\\"linearDisplay\\\">\u001b[39m\n\u001b[31m            <em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m    </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m    <script>\u001b[39m\n\u001b[31m        // Système Phonétique Corrigé - Acquisition Enfantine Optimisée\u001b[39m\n\u001b[31m        const primitiveSystem = {\u001b[39m\n\u001b[31m            'existence': {\u001b[39m\n\u001b[31m                phoneme: '/pi/',\u001b[39m\n\u001b[31m                symbol: \\\"⬢\\\",\u001b[39m\n\u001b[31m                description: \\\"Entité précise, existence délimitée\\\",\u001b[39m\n\u001b[31m                color: '#e74c3c'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'transformation': {\u001b[39m\n\u001b[31m                phoneme: '/tu/',\u001b[39m\n\u001b[31m                symbol: \\\"⟲\\\",\u001b[39m\n\u001b[31m                description: \\\"Processus continu, évolution fluide\\\",\u001b[39m\n\u001b[31m                color: '#3498db'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'structure': {\u001b[39m\n\u001b[31m                phoneme: '/ka/',\u001b[39m\n\u001b[31m                symbol: \\\"▦\\\",\u001b[39m\n\u001b[31m                description: \\\"Architecture stable, organisation solide\\\",\u001b[39m\n\u001b[31m                color: '#2ecc71'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'flux': {\u001b[39m\n\u001b[31m                phoneme: '/ba/',\u001b[39m\n\u001b[31m                symbol: \\\"≈\\\",\u001b[39m\n\u001b[31m                description: \\\"Écoulement libre, flux naturel\\\",\u001b[39m\n\u001b[31m                color: '#f39c12'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'liaison': {\u001b[39m\n\u001b[31m                phoneme: '/mu/',\u001b[39m\n\u001b[31m                symbol: \\\"◎\\\",\u001b[39m\n\u001b[31m                description: \\\"Centre focal, concentration unifiante\\\",\u001b[39m\n\u001b[31m                color: '#9b59b6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'negation': {\u001b[39m\n\u001b[31m                phoneme: '/ni/',\u001b[39m\n\u001b[31m                symbol: \\\"◯\\\",\u001b[39m\n\u001b[31m                description: \\\"Unité complète, totalité fermée\\\",\u001b[39m\n\u001b[31m                color: '#95a5a6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'iteration': {\u001b[39m\n\u001b[31m                phoneme: '/da/',\u001b[39m\n\u001b[31m                symbol: \\\"⋯\\\",\u001b[39m\n\u001b[31m                description: \\\"Connexion directe, liaison immédiate\\\",\u001b[39m\n\u001b[31m                color: '#e67e22'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'reflection': {\u001b[39m\n\u001b[31m                phoneme: '/gi/',\u001b[39m\n\u001b[31m                symbol: \\\"⧨\\\",\u001b[39m\n\u001b[31m                description: \\\"Interaction dynamique, relation active\\\",\u001b[39m\n\u001b[31m                color: '#34495e'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'unification': {\u001b[39m\n\u001b[31m                phoneme: '/bu/',\u001b[39m\n\u001b[31m                symbol: \\\"◆\\\",\u001b[39m\n\u001b[31m                description: \\\"Synthèse complète, fusion totale\\\",\u001b[39m\n\u001b[31m                color: '#f1c40f'\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        };\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        let concepts = [];\u001b[39m\n\u001b[31m        let isLinearized = false;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function addPrimitive(type) {\u001b[39m\n\u001b[31m            if (isLinearized) {\u001b[39m\n\u001b[31m                alert('Effacez d\\\\'abord pour ajouter de nouveaux concepts');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            const rect = canvas.getBoundingClientRect();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Position aléatoire dans le canvas\u001b[39m\n\u001b[31m            const x = Math.random() * 700 + 50;\u001b[39m\n\u001b[31m            const y = Math.random() * 300 + 50;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const primitive = primitiveSystem[type];\u001b[39m\n\u001b[31m            const conceptId = `concept-${Date.now()}`;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Créer l'élément SVG\u001b[39m\n\u001b[31m            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\u001b[39m\n\u001b[31m            group.setAttribute('class', 'concept');\u001b[39m\n\u001b[31m            group.setAttribute('id', conceptId);\u001b[39m\n\u001b[31m            group.setAttribute('transform', `translate(${x}, ${y})`);\u001b[39m\n\u001b[31m            group.setAttribute('data-type', type);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Cercle de fond\u001b[39m\n\u001b[31m            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\u001b[39m\n\u001b[31m            circle.setAttribute('cx', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('cy', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('r', '25');\u001b[39m\n\u001b[31m            circle.setAttribute('fill', primitive.color);\u001b[39m\n\u001b[31m            circle.setAttribute('stroke', 'white');\u001b[39m\n\u001b[31m            circle.setAttribute('stroke-width', '2');\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Symbole\u001b[39m\n\u001b[31m            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\u001b[39m\n\u001b[31m            text.setAttribute('x', '0');\u001b[39m\n\u001b[31m            text.setAttribute('y', '5');\u001b[39m\n\u001b[31m            text.setAttribute('fill', 'white');\u001b[39m\n\u001b[31m            text.setAttribute('font-size', '20');\u001b[39m\n\u001b[31m            text.setAttribute('text-anchor', 'middle');\u001b[39m\n\u001b[31m            text.setAttribute('dominant-baseline', 'middle');\u001b[39m\n\u001b[31m            text.textContent = primitive.symbol;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            group.appendChild(circle);\u001b[39m\n\u001b[31m            group.appendChild(text);\u001b[39m\n\u001b[31m            canvas.appendChild(group);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Ajouter à la liste\u001b[39m\n\u001b[31m            concepts.push({\u001b[39m\n\u001b[31m                id: conceptId,\u001b[39m\n\u001b[31m                type: type,\u001b[39m\n\u001b[31m                x: x,\u001b[39m\n\u001b[31m                y: y,\u001b[39m\n\u001b[31m                element: group\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation d'apparition\u001b[39m\n\u001b[31m            gsap.from(group, {\u001b[39m\n\u001b[31m                scale: 0,\u001b[39m\n\u001b[31m                rotation: 360,\u001b[39m\n\u001b[31m                duration: 0.5,\u001b[39m\n\u001b[31m                ease: \\\"back.out(1.7)\\\"\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function clearCanvas() {\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                canvas.removeChild(concept.element);\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            concepts = [];\u001b[39m\n\u001b[31m            isLinearized = false;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                '<em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>';\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function linearizeGraph() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Ajoutez des concepts d\\\\'abord !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            isLinearized = true;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Trier les concepts par position X (de gauche à droite)\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation vers une ligne horizontale\u001b[39m\n\u001b[31m            sortedConcepts.forEach((concept, index) => {\u001b[39m\n\u001b[31m                const targetX = 100 + index * 80;\u001b[39m\n\u001b[31m                const targetY = 200;\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                gsap.to(concept.element, {\u001b[39m\n\u001b[31m                    attr: { transform: `translate(${targetX}, ${targetY})` },\u001b[39m\n\u001b[31m                    duration: 1,\u001b[39m\n\u001b[31m                    delay: index * 0.1,\u001b[39m\n\u001b[31m                    ease: \\\"power2.inOut\\\"\u001b[39m\n\u001b[31m                });\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                concept.x = targetX;\u001b[39m\n\u001b[31m                concept.y = targetY;\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Afficher la séquence phonémique\u001b[39m\n\u001b[31m            setTimeout(() => {\u001b[39m\n\u001b[31m                const phonemes = sortedConcepts.map(concept => {\u001b[39m\n\u001b[31m                    const primitive = primitiveSystem[concept.type];\u001b[39m\n\u001b[31m                    return `<span class=\\\"phoneme\\\" style=\\\"background-color: ${primitive.color};\\\">${primitive.phoneme}</span>`;\u001b[39m\n\u001b[31m                }).join('');\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                    `<strong>Séquence Phonémique :</strong> ${phonemes}`;\u001b[39m\n\u001b[31m            }, 1500);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function speakPhonemes() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Aucun concept à prononcer !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            const phonemes = sortedConcepts.map(concept => \u001b[39m\n\u001b[31m                primitiveSystem[concept.type].phoneme.replace(/[\\\\/]/g, '')\u001b[39m\n\u001b[31m            ).join(' ');\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            if ('speechSynthesis' in window) {\u001b[39m\n\u001b[31m                const utterance = new SpeechSynthesisUtterance(phonemes);\u001b[39m\n\u001b[31m                utterance.rate = 0.7;\u001b[39m\n\u001b[31m                utterance.pitch = 1.2;\u001b[39m\n\u001b[31m                speechSynthesis.speak(utterance);\u001b[39m\n\u001b[31m            } else {\u001b[39m\n\u001b[31m                alert(`Phonèmes : ${phonemes}`);\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function loadDemo() {\u001b[39m\n\u001b[31m            clearCanvas();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Charger une démonstration avec quelques concepts\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('existence'), 200);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('transformation'), 400);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('liaison'), 600);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('unification'), 800);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        // Clic pour déplacer les concepts\u001b[39m\n\u001b[31m        document.getElementById('canvas').addEventListener('click', function(e) {\u001b[39m\n\u001b[31m            if (isLinearized) return;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const rect = e.target.getBoundingClientRect();\u001b[39m\n\u001b[31m            const canvasRect = this.getBoundingClientRect();\u001b[39m\n\u001b[31m            const x = e.clientX - canvasRect.left;\u001b[39m\n\u001b[31m            const y = e.clientY - canvasRect.top;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Trouver le concept le plus proche pour le déplacer\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                const distance = Math.sqrt(\u001b[39m\n\u001b[31m                    Math.pow(concept.x - x, 2) + Math.pow(concept.y - y, 2)\u001b[39m\n\u001b[31m                );\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                if (distance < 50) {\u001b[39m\n\u001b[31m                    concept.x = x;\u001b[39m\n\u001b[31m                    concept.y = y;\u001b[39m\n\u001b[31m                    \u001b[39m\n\u001b[31m                    gsap.to(concept.element, {\u001b[39m\n\u001b[31m                        attr: { transform: `translate(${x}, ${y})` },\u001b[39m\n\u001b[31m                        duration: 0.3,\u001b[39m\n\u001b[31m                        ease: \\\"power2.out\\\"\u001b[39m\n\u001b[31m                    });\u001b[39m\n\u001b[31m                }\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        });\u001b[39m\n\u001b[31m    </script>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m</body></html>\"\u001b[39m\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:39:29",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 29,
                          "line": 39
                        },
                        "snippet": "\u001b[0m \u001b[90m 37 |\u001b[39m     \n \u001b[90m 38 |\u001b[39m     \u001b[90m// Vérifier absence de consonnes tardives\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 39 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/ra/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// R tardif\u001b[39m\n \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 40 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/la/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// L tardif\u001b[39m\n \u001b[90m 41 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/sa/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// S complexe\u001b[39m\n \u001b[90m 42 |\u001b[39m     \u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 29,
                            "line": 39
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: not \u001b[32m\"/ra/\"\u001b[39m\nReceived string:        \u001b[31m\"<!DOCTYPE html><html lang=\\\"fr\\\"><head>\u001b[39m\n\u001b[31m    <meta charset=\\\"UTF-8\\\">\u001b[39m\n\u001b[31m    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\u001b[39m\n\u001b[31m    <title>PaniniGraph Simplifié - Symboles SVG Cohérents</title>\u001b[39m\n\u001b[31m    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js\\\"></script>\u001b[39m\n\u001b[31m    <style>\u001b[39m\n\u001b[31m        body {\u001b[39m\n\u001b[31m            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\u001b[39m\n\u001b[31m            margin: 0;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .container {\u001b[39m\n\u001b[31m            max-width: 1200px;\u001b[39m\n\u001b[31m            margin: 0 auto;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            backdrop-filter: blur(10px);\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        h1 {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            font-size: 2.5em;\u001b[39m\n\u001b[31m            margin-bottom: 10px;\u001b[39m\n\u001b[31m            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .subtitle {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            opacity: 0.8;\u001b[39m\n\u001b[31m            margin-bottom: 30px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .toolbar {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn {\u001b[39m\n\u001b[31m            padding: 10px 15px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 8px;\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            font-size: 14px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            gap: 8px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn:hover {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.3);\u001b[39m\n\u001b[31m            transform: translateY(-2px);\u001b[39m\n\u001b[31m            box-shadow: 0 4px 12px rgba(0,0,0,0.2);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .controls {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .control-btn {\u001b[39m\n\u001b[31m            padding: 12px 20px;\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 25px;\u001b[39m\n\u001b[31m            font-size: 16px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linearize-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .clear-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fa7268, #ff7675);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .speak-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #a29bfe, #6c5ce7);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .demo-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fd79a8, #fdcb6e);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .canvas-container {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.95);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            min-height: 400px;\u001b[39m\n\u001b[31m            position: relative;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        #canvas {\u001b[39m\n\u001b[31m            width: 100%;\u001b[39m\n\u001b[31m            height: 400px;\u001b[39m\n\u001b[31m            border: 2px dashed #ddd;\u001b[39m\n\u001b[31m            border-radius: 10px;\u001b[39m\n\u001b[31m            background: #f8f9fa;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept {\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept:hover {\u001b[39m\n\u001b[31m            transform: scale(1.05);\u001b[39m\n\u001b[31m            filter: brightness(1.1);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept text {\u001b[39m\n\u001b[31m            font-size: 20px;\u001b[39m\n\u001b[31m            text-anchor: middle;\u001b[39m\n\u001b[31m            dominant-baseline: middle;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .relation-line {\u001b[39m\n\u001b[31m            stroke-width: 3;\u001b[39m\n\u001b[31m            stroke-linecap: round;\u001b[39m\n\u001b[31m            opacity: 0.7;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .instructions {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        @keyframes pulse {\u001b[39m\n\u001b[31m            0%, 100% { transform: scale(1); }\u001b[39m\n\u001b[31m            50% { transform: scale(1.1); }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .pulsing {\u001b[39m\n\u001b[31m            animation: pulse 2s infinite;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linear-display {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-top: 20px;\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            min-height: 60px;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .phoneme {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            padding: 8px 15px;\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            font-family: monospace;\u001b[39m\n\u001b[31m            font-size: 18px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            margin: 5px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m    </style>\u001b[39m\n\u001b[31m</head>\u001b[39m\n\u001b[31m<body>\u001b[39m\n\u001b[31m    <div class=\\\"container\\\">\u001b[39m\n\u001b[31m        <h1>🎯 PaniniGraph Simplifié</h1>\u001b[39m\n\u001b[31m        <p class=\\\"subtitle\\\">Symboles cohérents - Une modalité, clarté maximale</p>\u001b[39m\n\u001b[31m        \u001b[39m\n\u001b[31m        <div class=\\\"instructions\\\">\u001b[39m\n\u001b[31m            <h3>🎯 Système Unifié Simplifié</h3>\u001b[39m\n\u001b[31m            <p>1. <strong>Symboles homogènes</strong> : Formes géométriques pures pour une cohérence parfaite</p>\u001b[39m\n\u001b[31m            <p>2. <strong>Une seule représentation</strong> : Fini la confusion entre modalités multiples</p>\u001b[39m\n\u001b[31m            <p>3. <strong>Sémantique immédiate</strong> : Chaque forme évoque directement son concept</p>\u001b[39m\n\u001b[31m            <p>4. Placez les primitives puis \\\"📏 Linéariser\\\" pour voir l'animation</p>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"toolbar\\\">\u001b[39m\n\u001b[31m            <div>\u001b[39m\n\u001b[31m                <strong>Primitives Dhātu Simplifiées :</strong><br>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('existence')\\\" title=\\\"/pa/ - Ancrage stable\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⬢</span> EXISTENCE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('transformation')\\\" title=\\\"/ta/ - Changement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⟲</span> TRANSFORMATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('structure')\\\" title=\\\"/ka/ - Organisation\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">▦</span> STRUCTURE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('flux')\\\" title=\\\"/sa/ - Écoulement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">≈</span> FLUX\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('liaison')\\\" title=\\\"/ma/ - Connexion\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◎</span> LIAISON\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('negation')\\\" title=\\\"/na/ - Absence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◯</span> NÉGATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('iteration')\\\" title=\\\"/la/ - Répétition\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⋯</span> ITÉRATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('reflection')\\\" title=\\\"\u001b[7m/ra/\u001b[27m - Symétrie\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⧨</span> RÉFLEXION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('unification')\\\" title=\\\"/wa/ - Convergence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◆</span> UNIFICATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m            </div>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"controls\\\">\u001b[39m\n\u001b[31m            <button class=\\\"control-btn linearize-btn\\\" onclick=\\\"linearizeGraph()\\\">📏 Linéariser</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn clear-btn\\\" onclick=\\\"clearCanvas()\\\">🗑️ Effacer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn speak-btn\\\" onclick=\\\"speakPhonemes()\\\">🔊 Prononcer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn demo-btn\\\" onclick=\\\"loadDemo()\\\">🎬 Démo</button>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"canvas-container\\\">\u001b[39m\n\u001b[31m            <svg id=\\\"canvas\\\" viewBox=\\\"0 0 800 400\\\">\u001b[39m\n\u001b[31m                <!-- Zone de placement des concepts -->\u001b[39m\n\u001b[31m            </svg>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"linear-display\\\" id=\\\"linearDisplay\\\">\u001b[39m\n\u001b[31m            <em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m    </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m    <script>\u001b[39m\n\u001b[31m        // Système Phonétique Corrigé - Acquisition Enfantine Optimisée\u001b[39m\n\u001b[31m        const primitiveSystem = {\u001b[39m\n\u001b[31m            'existence': {\u001b[39m\n\u001b[31m                phoneme: '/pi/',\u001b[39m\n\u001b[31m                symbol: \\\"⬢\\\",\u001b[39m\n\u001b[31m                description: \\\"Entité précise, existence délimitée\\\",\u001b[39m\n\u001b[31m                color: '#e74c3c'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'transformation': {\u001b[39m\n\u001b[31m                phoneme: '/tu/',\u001b[39m\n\u001b[31m                symbol: \\\"⟲\\\",\u001b[39m\n\u001b[31m                description: \\\"Processus continu, évolution fluide\\\",\u001b[39m\n\u001b[31m                color: '#3498db'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'structure': {\u001b[39m\n\u001b[31m                phoneme: '/ka/',\u001b[39m\n\u001b[31m                symbol: \\\"▦\\\",\u001b[39m\n\u001b[31m                description: \\\"Architecture stable, organisation solide\\\",\u001b[39m\n\u001b[31m                color: '#2ecc71'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'flux': {\u001b[39m\n\u001b[31m                phoneme: '/ba/',\u001b[39m\n\u001b[31m                symbol: \\\"≈\\\",\u001b[39m\n\u001b[31m                description: \\\"Écoulement libre, flux naturel\\\",\u001b[39m\n\u001b[31m                color: '#f39c12'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'liaison': {\u001b[39m\n\u001b[31m                phoneme: '/mu/',\u001b[39m\n\u001b[31m                symbol: \\\"◎\\\",\u001b[39m\n\u001b[31m                description: \\\"Centre focal, concentration unifiante\\\",\u001b[39m\n\u001b[31m                color: '#9b59b6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'negation': {\u001b[39m\n\u001b[31m                phoneme: '/ni/',\u001b[39m\n\u001b[31m                symbol: \\\"◯\\\",\u001b[39m\n\u001b[31m                description: \\\"Unité complète, totalité fermée\\\",\u001b[39m\n\u001b[31m                color: '#95a5a6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'iteration': {\u001b[39m\n\u001b[31m                phoneme: '/da/',\u001b[39m\n\u001b[31m                symbol: \\\"⋯\\\",\u001b[39m\n\u001b[31m                description: \\\"Connexion directe, liaison immédiate\\\",\u001b[39m\n\u001b[31m                color: '#e67e22'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'reflection': {\u001b[39m\n\u001b[31m                phoneme: '/gi/',\u001b[39m\n\u001b[31m                symbol: \\\"⧨\\\",\u001b[39m\n\u001b[31m                description: \\\"Interaction dynamique, relation active\\\",\u001b[39m\n\u001b[31m                color: '#34495e'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'unification': {\u001b[39m\n\u001b[31m                phoneme: '/bu/',\u001b[39m\n\u001b[31m                symbol: \\\"◆\\\",\u001b[39m\n\u001b[31m                description: \\\"Synthèse complète, fusion totale\\\",\u001b[39m\n\u001b[31m                color: '#f1c40f'\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        };\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        let concepts = [];\u001b[39m\n\u001b[31m        let isLinearized = false;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function addPrimitive(type) {\u001b[39m\n\u001b[31m            if (isLinearized) {\u001b[39m\n\u001b[31m                alert('Effacez d\\\\'abord pour ajouter de nouveaux concepts');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            const rect = canvas.getBoundingClientRect();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Position aléatoire dans le canvas\u001b[39m\n\u001b[31m            const x = Math.random() * 700 + 50;\u001b[39m\n\u001b[31m            const y = Math.random() * 300 + 50;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const primitive = primitiveSystem[type];\u001b[39m\n\u001b[31m            const conceptId = `concept-${Date.now()}`;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Créer l'élément SVG\u001b[39m\n\u001b[31m            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\u001b[39m\n\u001b[31m            group.setAttribute('class', 'concept');\u001b[39m\n\u001b[31m            group.setAttribute('id', conceptId);\u001b[39m\n\u001b[31m            group.setAttribute('transform', `translate(${x}, ${y})`);\u001b[39m\n\u001b[31m            group.setAttribute('data-type', type);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Cercle de fond\u001b[39m\n\u001b[31m            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\u001b[39m\n\u001b[31m            circle.setAttribute('cx', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('cy', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('r', '25');\u001b[39m\n\u001b[31m            circle.setAttribute('fill', primitive.color);\u001b[39m\n\u001b[31m            circle.setAttribute('stroke', 'white');\u001b[39m\n\u001b[31m            circle.setAttribute('stroke-width', '2');\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Symbole\u001b[39m\n\u001b[31m            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\u001b[39m\n\u001b[31m            text.setAttribute('x', '0');\u001b[39m\n\u001b[31m            text.setAttribute('y', '5');\u001b[39m\n\u001b[31m            text.setAttribute('fill', 'white');\u001b[39m\n\u001b[31m            text.setAttribute('font-size', '20');\u001b[39m\n\u001b[31m            text.setAttribute('text-anchor', 'middle');\u001b[39m\n\u001b[31m            text.setAttribute('dominant-baseline', 'middle');\u001b[39m\n\u001b[31m            text.textContent = primitive.symbol;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            group.appendChild(circle);\u001b[39m\n\u001b[31m            group.appendChild(text);\u001b[39m\n\u001b[31m            canvas.appendChild(group);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Ajouter à la liste\u001b[39m\n\u001b[31m            concepts.push({\u001b[39m\n\u001b[31m                id: conceptId,\u001b[39m\n\u001b[31m                type: type,\u001b[39m\n\u001b[31m                x: x,\u001b[39m\n\u001b[31m                y: y,\u001b[39m\n\u001b[31m                element: group\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation d'apparition\u001b[39m\n\u001b[31m            gsap.from(group, {\u001b[39m\n\u001b[31m                scale: 0,\u001b[39m\n\u001b[31m                rotation: 360,\u001b[39m\n\u001b[31m                duration: 0.5,\u001b[39m\n\u001b[31m                ease: \\\"back.out(1.7)\\\"\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function clearCanvas() {\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                canvas.removeChild(concept.element);\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            concepts = [];\u001b[39m\n\u001b[31m            isLinearized = false;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                '<em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>';\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function linearizeGraph() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Ajoutez des concepts d\\\\'abord !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            isLinearized = true;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Trier les concepts par position X (de gauche à droite)\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation vers une ligne horizontale\u001b[39m\n\u001b[31m            sortedConcepts.forEach((concept, index) => {\u001b[39m\n\u001b[31m                const targetX = 100 + index * 80;\u001b[39m\n\u001b[31m                const targetY = 200;\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                gsap.to(concept.element, {\u001b[39m\n\u001b[31m                    attr: { transform: `translate(${targetX}, ${targetY})` },\u001b[39m\n\u001b[31m                    duration: 1,\u001b[39m\n\u001b[31m                    delay: index * 0.1,\u001b[39m\n\u001b[31m                    ease: \\\"power2.inOut\\\"\u001b[39m\n\u001b[31m                });\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                concept.x = targetX;\u001b[39m\n\u001b[31m                concept.y = targetY;\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Afficher la séquence phonémique\u001b[39m\n\u001b[31m            setTimeout(() => {\u001b[39m\n\u001b[31m                const phonemes = sortedConcepts.map(concept => {\u001b[39m\n\u001b[31m                    const primitive = primitiveSystem[concept.type];\u001b[39m\n\u001b[31m                    return `<span class=\\\"phoneme\\\" style=\\\"background-color: ${primitive.color};\\\">${primitive.phoneme}</span>`;\u001b[39m\n\u001b[31m                }).join('');\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                    `<strong>Séquence Phonémique :</strong> ${phonemes}`;\u001b[39m\n\u001b[31m            }, 1500);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function speakPhonemes() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Aucun concept à prononcer !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            const phonemes = sortedConcepts.map(concept => \u001b[39m\n\u001b[31m                primitiveSystem[concept.type].phoneme.replace(/[\\\\/]/g, '')\u001b[39m\n\u001b[31m            ).join(' ');\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            if ('speechSynthesis' in window) {\u001b[39m\n\u001b[31m                const utterance = new SpeechSynthesisUtterance(phonemes);\u001b[39m\n\u001b[31m                utterance.rate = 0.7;\u001b[39m\n\u001b[31m                utterance.pitch = 1.2;\u001b[39m\n\u001b[31m                speechSynthesis.speak(utterance);\u001b[39m\n\u001b[31m            } else {\u001b[39m\n\u001b[31m                alert(`Phonèmes : ${phonemes}`);\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function loadDemo() {\u001b[39m\n\u001b[31m            clearCanvas();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Charger une démonstration avec quelques concepts\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('existence'), 200);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('transformation'), 400);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('liaison'), 600);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('unification'), 800);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        // Clic pour déplacer les concepts\u001b[39m\n\u001b[31m        document.getElementById('canvas').addEventListener('click', function(e) {\u001b[39m\n\u001b[31m            if (isLinearized) return;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const rect = e.target.getBoundingClientRect();\u001b[39m\n\u001b[31m            const canvasRect = this.getBoundingClientRect();\u001b[39m\n\u001b[31m            const x = e.clientX - canvasRect.left;\u001b[39m\n\u001b[31m            const y = e.clientY - canvasRect.top;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Trouver le concept le plus proche pour le déplacer\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                const distance = Math.sqrt(\u001b[39m\n\u001b[31m                    Math.pow(concept.x - x, 2) + Math.pow(concept.y - y, 2)\u001b[39m\n\u001b[31m                );\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                if (distance < 50) {\u001b[39m\n\u001b[31m                    concept.x = x;\u001b[39m\n\u001b[31m                    concept.y = y;\u001b[39m\n\u001b[31m                    \u001b[39m\n\u001b[31m                    gsap.to(concept.element, {\u001b[39m\n\u001b[31m                        attr: { transform: `translate(${x}, ${y})` },\u001b[39m\n\u001b[31m                        duration: 0.3,\u001b[39m\n\u001b[31m                        ease: \\\"power2.out\\\"\u001b[39m\n\u001b[31m                    });\u001b[39m\n\u001b[31m                }\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        });\u001b[39m\n\u001b[31m    </script>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m</body></html>\"\u001b[39m\n\n\u001b[0m \u001b[90m 37 |\u001b[39m     \n \u001b[90m 38 |\u001b[39m     \u001b[90m// Vérifier absence de consonnes tardives\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 39 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/ra/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// R tardif\u001b[39m\n \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 40 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/la/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// L tardif\u001b[39m\n \u001b[90m 41 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/sa/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// S complexe\u001b[39m\n \u001b[90m 42 |\u001b[39m     \u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:39:29\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:25.366Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-9dacd-nsonnes-précoces-uniquement-firefox/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-9dacd-nsonnes-précoces-uniquement-firefox/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-9dacd-nsonnes-précoces-uniquement-firefox/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 29,
                        "line": 39
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-731d9d2482819c5f5edc",
              "file": "phonetique-corrigee.spec.js",
              "line": 35,
              "column": 3
            },
            {
              "title": "Descriptions mises à jour",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 3,
                      "parallelIndex": 3,
                      "status": "failed",
                      "duration": 7474,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=Entité précise')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=Entité précise')\u001b[22m\n",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=Entité précise')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=Entité précise')\u001b[22m\n\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:56:55",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 55,
                          "line": 56
                        },
                        "snippet": "\u001b[0m \u001b[90m 54 |\u001b[39m   test(\u001b[32m'Descriptions mises à jour'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m 55 |\u001b[39m     \u001b[90m// Vérifier que les descriptions reflètent les corrections\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 56 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Entité précise'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 57 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Processus continu'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 58 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Écoulement libre'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 59 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Centre focal'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 55,
                            "line": 56
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=Entité précise')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=Entité précise')\u001b[22m\n\n\n\u001b[0m \u001b[90m 54 |\u001b[39m   test(\u001b[32m'Descriptions mises à jour'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m 55 |\u001b[39m     \u001b[90m// Vérifier que les descriptions reflètent les corrections\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 56 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Entité précise'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 57 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Processus continu'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 58 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Écoulement libre'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 59 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Centre focal'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:56:55\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:25.333Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a74e5-e-Descriptions-mises-à-jour-firefox/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a74e5-e-Descriptions-mises-à-jour-firefox/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a74e5-e-Descriptions-mises-à-jour-firefox/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 55,
                        "line": 56
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-664b520f5972a5157be9",
              "file": "phonetique-corrigee.spec.js",
              "line": 54,
              "column": 3
            },
            {
              "title": "Interface fonctionnelle avec nouveau système",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 4,
                      "parallelIndex": 4,
                      "status": "failed",
                      "duration": 11600,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('.linearized-sequence')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('.linearized-sequence')\u001b[22m\n",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('.linearized-sequence')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('.linearized-sequence')\u001b[22m\n\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:77:56",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 56,
                          "line": 77
                        },
                        "snippet": "\u001b[0m \u001b[90m 75 |\u001b[39m     \n \u001b[90m 76 |\u001b[39m     \u001b[90m// Vérifier que la nouvelle séquence apparaît\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'.linearized-sequence'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n \u001b[90m 79 |\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m 80 |\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 56,
                            "line": 77
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('.linearized-sequence')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('.linearized-sequence')\u001b[22m\n\n\n\u001b[0m \u001b[90m 75 |\u001b[39m     \n \u001b[90m 76 |\u001b[39m     \u001b[90m// Vérifier que la nouvelle séquence apparaît\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'.linearized-sequence'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n \u001b[90m 79 |\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m 80 |\u001b[39m\u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:77:56\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:25.463Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-958af-nnelle-avec-nouveau-système-firefox/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-958af-nnelle-avec-nouveau-système-firefox/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-958af-nnelle-avec-nouveau-système-firefox/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 56,
                        "line": 77
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-66c3eebb5ad500a72c15",
              "file": "phonetique-corrigee.spec.js",
              "line": 66,
              "column": 3
            },
            {
              "title": "Nouveau système phonémique présent",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 7,
                      "parallelIndex": 7,
                      "status": "failed",
                      "duration": 6994,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=/pi/')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi/')\u001b[22m\n",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=/pi/')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi/')\u001b[22m\n\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:10:45",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 45,
                          "line": 10
                        },
                        "snippet": "\u001b[0m \u001b[90m  8 |\u001b[39m   test(\u001b[32m'Nouveau système phonémique présent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m  9 |\u001b[39m     \u001b[90m// Vérifier que les nouveaux phonèmes sont bien affichés\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/pi/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 11 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/tu/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 12 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/ka/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 13 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/ba/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 45,
                            "line": 10
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=/pi/')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi/')\u001b[22m\n\n\n\u001b[0m \u001b[90m  8 |\u001b[39m   test(\u001b[32m'Nouveau système phonémique présent'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m  9 |\u001b[39m     \u001b[90m// Vérifier que les nouveaux phonèmes sont bien affichés\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 10 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/pi/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 11 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/tu/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 12 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/ka/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 13 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/ba/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:10:45\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:25.683Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a0613--système-phonémique-présent-chromium/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a0613--système-phonémique-présent-chromium/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a0613--système-phonémique-présent-chromium/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 45,
                        "line": 10
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-58abd3135f5a28a5aed9",
              "file": "phonetique-corrigee.spec.js",
              "line": 8,
              "column": 3
            },
            {
              "title": "Triangle vocalique respecté",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 8,
                      "parallelIndex": 1,
                      "status": "passed",
                      "duration": 1421,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:35.152Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "14bbde92fdd67df45226-bed44eb8d53898752230",
              "file": "phonetique-corrigee.spec.js",
              "line": 21,
              "column": 3
            },
            {
              "title": "Consonnes précoces uniquement",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 9,
                      "parallelIndex": 7,
                      "status": "failed",
                      "duration": 1513,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: not \u001b[32m\"/ra/\"\u001b[39m\nReceived string:        \u001b[31m\"<!DOCTYPE html><html lang=\\\"fr\\\"><head>\u001b[39m\n\u001b[31m    <meta charset=\\\"UTF-8\\\">\u001b[39m\n\u001b[31m    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\u001b[39m\n\u001b[31m    <title>PaniniGraph Simplifié - Symboles SVG Cohérents</title>\u001b[39m\n\u001b[31m    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js\\\"></script>\u001b[39m\n\u001b[31m    <style>\u001b[39m\n\u001b[31m        body {\u001b[39m\n\u001b[31m            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\u001b[39m\n\u001b[31m            margin: 0;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .container {\u001b[39m\n\u001b[31m            max-width: 1200px;\u001b[39m\n\u001b[31m            margin: 0 auto;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            backdrop-filter: blur(10px);\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        h1 {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            font-size: 2.5em;\u001b[39m\n\u001b[31m            margin-bottom: 10px;\u001b[39m\n\u001b[31m            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .subtitle {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            opacity: 0.8;\u001b[39m\n\u001b[31m            margin-bottom: 30px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .toolbar {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn {\u001b[39m\n\u001b[31m            padding: 10px 15px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 8px;\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            font-size: 14px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            gap: 8px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn:hover {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.3);\u001b[39m\n\u001b[31m            transform: translateY(-2px);\u001b[39m\n\u001b[31m            box-shadow: 0 4px 12px rgba(0,0,0,0.2);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .controls {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .control-btn {\u001b[39m\n\u001b[31m            padding: 12px 20px;\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 25px;\u001b[39m\n\u001b[31m            font-size: 16px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linearize-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .clear-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fa7268, #ff7675);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .speak-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #a29bfe, #6c5ce7);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .demo-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fd79a8, #fdcb6e);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .canvas-container {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.95);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            min-height: 400px;\u001b[39m\n\u001b[31m            position: relative;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        #canvas {\u001b[39m\n\u001b[31m            width: 100%;\u001b[39m\n\u001b[31m            height: 400px;\u001b[39m\n\u001b[31m            border: 2px dashed #ddd;\u001b[39m\n\u001b[31m            border-radius: 10px;\u001b[39m\n\u001b[31m            background: #f8f9fa;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept {\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept:hover {\u001b[39m\n\u001b[31m            transform: scale(1.05);\u001b[39m\n\u001b[31m            filter: brightness(1.1);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept text {\u001b[39m\n\u001b[31m            font-size: 20px;\u001b[39m\n\u001b[31m            text-anchor: middle;\u001b[39m\n\u001b[31m            dominant-baseline: middle;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .relation-line {\u001b[39m\n\u001b[31m            stroke-width: 3;\u001b[39m\n\u001b[31m            stroke-linecap: round;\u001b[39m\n\u001b[31m            opacity: 0.7;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .instructions {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        @keyframes pulse {\u001b[39m\n\u001b[31m            0%, 100% { transform: scale(1); }\u001b[39m\n\u001b[31m            50% { transform: scale(1.1); }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .pulsing {\u001b[39m\n\u001b[31m            animation: pulse 2s infinite;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linear-display {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-top: 20px;\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            min-height: 60px;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .phoneme {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            padding: 8px 15px;\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            font-family: monospace;\u001b[39m\n\u001b[31m            font-size: 18px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            margin: 5px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m    </style>\u001b[39m\n\u001b[31m</head>\u001b[39m\n\u001b[31m<body>\u001b[39m\n\u001b[31m    <div class=\\\"container\\\">\u001b[39m\n\u001b[31m        <h1>🎯 PaniniGraph Simplifié</h1>\u001b[39m\n\u001b[31m        <p class=\\\"subtitle\\\">Symboles cohérents - Une modalité, clarté maximale</p>\u001b[39m\n\u001b[31m        \u001b[39m\n\u001b[31m        <div class=\\\"instructions\\\">\u001b[39m\n\u001b[31m            <h3>🎯 Système Unifié Simplifié</h3>\u001b[39m\n\u001b[31m            <p>1. <strong>Symboles homogènes</strong> : Formes géométriques pures pour une cohérence parfaite</p>\u001b[39m\n\u001b[31m            <p>2. <strong>Une seule représentation</strong> : Fini la confusion entre modalités multiples</p>\u001b[39m\n\u001b[31m            <p>3. <strong>Sémantique immédiate</strong> : Chaque forme évoque directement son concept</p>\u001b[39m\n\u001b[31m            <p>4. Placez les primitives puis \\\"📏 Linéariser\\\" pour voir l'animation</p>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"toolbar\\\">\u001b[39m\n\u001b[31m            <div>\u001b[39m\n\u001b[31m                <strong>Primitives Dhātu Simplifiées :</strong><br>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('existence')\\\" title=\\\"/pa/ - Ancrage stable\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⬢</span> EXISTENCE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('transformation')\\\" title=\\\"/ta/ - Changement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⟲</span> TRANSFORMATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('structure')\\\" title=\\\"/ka/ - Organisation\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">▦</span> STRUCTURE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('flux')\\\" title=\\\"/sa/ - Écoulement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">≈</span> FLUX\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('liaison')\\\" title=\\\"/ma/ - Connexion\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◎</span> LIAISON\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('negation')\\\" title=\\\"/na/ - Absence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◯</span> NÉGATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('iteration')\\\" title=\\\"/la/ - Répétition\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⋯</span> ITÉRATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('reflection')\\\" title=\\\"\u001b[7m/ra/\u001b[27m - Symétrie\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⧨</span> RÉFLEXION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('unification')\\\" title=\\\"/wa/ - Convergence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◆</span> UNIFICATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m            </div>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"controls\\\">\u001b[39m\n\u001b[31m            <button class=\\\"control-btn linearize-btn\\\" onclick=\\\"linearizeGraph()\\\">📏 Linéariser</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn clear-btn\\\" onclick=\\\"clearCanvas()\\\">🗑️ Effacer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn speak-btn\\\" onclick=\\\"speakPhonemes()\\\">🔊 Prononcer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn demo-btn\\\" onclick=\\\"loadDemo()\\\">🎬 Démo</button>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"canvas-container\\\">\u001b[39m\n\u001b[31m            <svg id=\\\"canvas\\\" viewBox=\\\"0 0 800 400\\\">\u001b[39m\n\u001b[31m                <!-- Zone de placement des concepts -->\u001b[39m\n\u001b[31m            </svg>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"linear-display\\\" id=\\\"linearDisplay\\\">\u001b[39m\n\u001b[31m            <em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m    </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m    <script>\u001b[39m\n\u001b[31m        // Système Phonétique Corrigé - Acquisition Enfantine Optimisée\u001b[39m\n\u001b[31m        const primitiveSystem = {\u001b[39m\n\u001b[31m            'existence': {\u001b[39m\n\u001b[31m                phoneme: '/pi/',\u001b[39m\n\u001b[31m                symbol: \\\"⬢\\\",\u001b[39m\n\u001b[31m                description: \\\"Entité précise, existence délimitée\\\",\u001b[39m\n\u001b[31m                color: '#e74c3c'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'transformation': {\u001b[39m\n\u001b[31m                phoneme: '/tu/',\u001b[39m\n\u001b[31m                symbol: \\\"⟲\\\",\u001b[39m\n\u001b[31m                description: \\\"Processus continu, évolution fluide\\\",\u001b[39m\n\u001b[31m                color: '#3498db'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'structure': {\u001b[39m\n\u001b[31m                phoneme: '/ka/',\u001b[39m\n\u001b[31m                symbol: \\\"▦\\\",\u001b[39m\n\u001b[31m                description: \\\"Architecture stable, organisation solide\\\",\u001b[39m\n\u001b[31m                color: '#2ecc71'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'flux': {\u001b[39m\n\u001b[31m                phoneme: '/ba/',\u001b[39m\n\u001b[31m                symbol: \\\"≈\\\",\u001b[39m\n\u001b[31m                description: \\\"Écoulement libre, flux naturel\\\",\u001b[39m\n\u001b[31m                color: '#f39c12'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'liaison': {\u001b[39m\n\u001b[31m                phoneme: '/mu/',\u001b[39m\n\u001b[31m                symbol: \\\"◎\\\",\u001b[39m\n\u001b[31m                description: \\\"Centre focal, concentration unifiante\\\",\u001b[39m\n\u001b[31m                color: '#9b59b6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'negation': {\u001b[39m\n\u001b[31m                phoneme: '/ni/',\u001b[39m\n\u001b[31m                symbol: \\\"◯\\\",\u001b[39m\n\u001b[31m                description: \\\"Unité complète, totalité fermée\\\",\u001b[39m\n\u001b[31m                color: '#95a5a6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'iteration': {\u001b[39m\n\u001b[31m                phoneme: '/da/',\u001b[39m\n\u001b[31m                symbol: \\\"⋯\\\",\u001b[39m\n\u001b[31m                description: \\\"Connexion directe, liaison immédiate\\\",\u001b[39m\n\u001b[31m                color: '#e67e22'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'reflection': {\u001b[39m\n\u001b[31m                phoneme: '/gi/',\u001b[39m\n\u001b[31m                symbol: \\\"⧨\\\",\u001b[39m\n\u001b[31m                description: \\\"Interaction dynamique, relation active\\\",\u001b[39m\n\u001b[31m                color: '#34495e'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'unification': {\u001b[39m\n\u001b[31m                phoneme: '/bu/',\u001b[39m\n\u001b[31m                symbol: \\\"◆\\\",\u001b[39m\n\u001b[31m                description: \\\"Synthèse complète, fusion totale\\\",\u001b[39m\n\u001b[31m                color: '#f1c40f'\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        };\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        let concepts = [];\u001b[39m\n\u001b[31m        let isLinearized = false;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function addPrimitive(type) {\u001b[39m\n\u001b[31m            if (isLinearized) {\u001b[39m\n\u001b[31m                alert('Effacez d\\\\'abord pour ajouter de nouveaux concepts');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            const rect = canvas.getBoundingClientRect();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Position aléatoire dans le canvas\u001b[39m\n\u001b[31m            const x = Math.random() * 700 + 50;\u001b[39m\n\u001b[31m            const y = Math.random() * 300 + 50;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const primitive = primitiveSystem[type];\u001b[39m\n\u001b[31m            const conceptId = `concept-${Date.now()}`;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Créer l'élément SVG\u001b[39m\n\u001b[31m            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\u001b[39m\n\u001b[31m            group.setAttribute('class', 'concept');\u001b[39m\n\u001b[31m            group.setAttribute('id', conceptId);\u001b[39m\n\u001b[31m            group.setAttribute('transform', `translate(${x}, ${y})`);\u001b[39m\n\u001b[31m            group.setAttribute('data-type', type);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Cercle de fond\u001b[39m\n\u001b[31m            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\u001b[39m\n\u001b[31m            circle.setAttribute('cx', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('cy', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('r', '25');\u001b[39m\n\u001b[31m            circle.setAttribute('fill', primitive.color);\u001b[39m\n\u001b[31m            circle.setAttribute('stroke', 'white');\u001b[39m\n\u001b[31m            circle.setAttribute('stroke-width', '2');\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Symbole\u001b[39m\n\u001b[31m            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\u001b[39m\n\u001b[31m            text.setAttribute('x', '0');\u001b[39m\n\u001b[31m            text.setAttribute('y', '5');\u001b[39m\n\u001b[31m            text.setAttribute('fill', 'white');\u001b[39m\n\u001b[31m            text.setAttribute('font-size', '20');\u001b[39m\n\u001b[31m            text.setAttribute('text-anchor', 'middle');\u001b[39m\n\u001b[31m            text.setAttribute('dominant-baseline', 'middle');\u001b[39m\n\u001b[31m            text.textContent = primitive.symbol;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            group.appendChild(circle);\u001b[39m\n\u001b[31m            group.appendChild(text);\u001b[39m\n\u001b[31m            canvas.appendChild(group);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Ajouter à la liste\u001b[39m\n\u001b[31m            concepts.push({\u001b[39m\n\u001b[31m                id: conceptId,\u001b[39m\n\u001b[31m                type: type,\u001b[39m\n\u001b[31m                x: x,\u001b[39m\n\u001b[31m                y: y,\u001b[39m\n\u001b[31m                element: group\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation d'apparition\u001b[39m\n\u001b[31m            gsap.from(group, {\u001b[39m\n\u001b[31m                scale: 0,\u001b[39m\n\u001b[31m                rotation: 360,\u001b[39m\n\u001b[31m                duration: 0.5,\u001b[39m\n\u001b[31m                ease: \\\"back.out(1.7)\\\"\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function clearCanvas() {\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                canvas.removeChild(concept.element);\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            concepts = [];\u001b[39m\n\u001b[31m            isLinearized = false;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                '<em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>';\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function linearizeGraph() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Ajoutez des concepts d\\\\'abord !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            isLinearized = true;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Trier les concepts par position X (de gauche à droite)\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation vers une ligne horizontale\u001b[39m\n\u001b[31m            sortedConcepts.forEach((concept, index) => {\u001b[39m\n\u001b[31m                const targetX = 100 + index * 80;\u001b[39m\n\u001b[31m                const targetY = 200;\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                gsap.to(concept.element, {\u001b[39m\n\u001b[31m                    attr: { transform: `translate(${targetX}, ${targetY})` },\u001b[39m\n\u001b[31m                    duration: 1,\u001b[39m\n\u001b[31m                    delay: index * 0.1,\u001b[39m\n\u001b[31m                    ease: \\\"power2.inOut\\\"\u001b[39m\n\u001b[31m                });\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                concept.x = targetX;\u001b[39m\n\u001b[31m                concept.y = targetY;\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Afficher la séquence phonémique\u001b[39m\n\u001b[31m            setTimeout(() => {\u001b[39m\n\u001b[31m                const phonemes = sortedConcepts.map(concept => {\u001b[39m\n\u001b[31m                    const primitive = primitiveSystem[concept.type];\u001b[39m\n\u001b[31m                    return `<span class=\\\"phoneme\\\" style=\\\"background-color: ${primitive.color};\\\">${primitive.phoneme}</span>`;\u001b[39m\n\u001b[31m                }).join('');\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                    `<strong>Séquence Phonémique :</strong> ${phonemes}`;\u001b[39m\n\u001b[31m            }, 1500);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function speakPhonemes() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Aucun concept à prononcer !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            const phonemes = sortedConcepts.map(concept => \u001b[39m\n\u001b[31m                primitiveSystem[concept.type].phoneme.replace(/[\\\\/]/g, '')\u001b[39m\n\u001b[31m            ).join(' ');\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            if ('speechSynthesis' in window) {\u001b[39m\n\u001b[31m                const utterance = new SpeechSynthesisUtterance(phonemes);\u001b[39m\n\u001b[31m                utterance.rate = 0.7;\u001b[39m\n\u001b[31m                utterance.pitch = 1.2;\u001b[39m\n\u001b[31m                speechSynthesis.speak(utterance);\u001b[39m\n\u001b[31m            } else {\u001b[39m\n\u001b[31m                alert(`Phonèmes : ${phonemes}`);\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function loadDemo() {\u001b[39m\n\u001b[31m            clearCanvas();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Charger une démonstration avec quelques concepts\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('existence'), 200);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('transformation'), 400);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('liaison'), 600);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('unification'), 800);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        // Clic pour déplacer les concepts\u001b[39m\n\u001b[31m        document.getElementById('canvas').addEventListener('click', function(e) {\u001b[39m\n\u001b[31m            if (isLinearized) return;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const rect = e.target.getBoundingClientRect();\u001b[39m\n\u001b[31m            const canvasRect = this.getBoundingClientRect();\u001b[39m\n\u001b[31m            const x = e.clientX - canvasRect.left;\u001b[39m\n\u001b[31m            const y = e.clientY - canvasRect.top;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Trouver le concept le plus proche pour le déplacer\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                const distance = Math.sqrt(\u001b[39m\n\u001b[31m                    Math.pow(concept.x - x, 2) + Math.pow(concept.y - y, 2)\u001b[39m\n\u001b[31m                );\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                if (distance < 50) {\u001b[39m\n\u001b[31m                    concept.x = x;\u001b[39m\n\u001b[31m                    concept.y = y;\u001b[39m\n\u001b[31m                    \u001b[39m\n\u001b[31m                    gsap.to(concept.element, {\u001b[39m\n\u001b[31m                        attr: { transform: `translate(${x}, ${y})` },\u001b[39m\n\u001b[31m                        duration: 0.3,\u001b[39m\n\u001b[31m                        ease: \\\"power2.out\\\"\u001b[39m\n\u001b[31m                    });\u001b[39m\n\u001b[31m                }\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        });\u001b[39m\n\u001b[31m    </script>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m</body></html>\"\u001b[39m",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: not \u001b[32m\"/ra/\"\u001b[39m\nReceived string:        \u001b[31m\"<!DOCTYPE html><html lang=\\\"fr\\\"><head>\u001b[39m\n\u001b[31m    <meta charset=\\\"UTF-8\\\">\u001b[39m\n\u001b[31m    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\u001b[39m\n\u001b[31m    <title>PaniniGraph Simplifié - Symboles SVG Cohérents</title>\u001b[39m\n\u001b[31m    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js\\\"></script>\u001b[39m\n\u001b[31m    <style>\u001b[39m\n\u001b[31m        body {\u001b[39m\n\u001b[31m            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\u001b[39m\n\u001b[31m            margin: 0;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .container {\u001b[39m\n\u001b[31m            max-width: 1200px;\u001b[39m\n\u001b[31m            margin: 0 auto;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            backdrop-filter: blur(10px);\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        h1 {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            font-size: 2.5em;\u001b[39m\n\u001b[31m            margin-bottom: 10px;\u001b[39m\n\u001b[31m            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .subtitle {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            opacity: 0.8;\u001b[39m\n\u001b[31m            margin-bottom: 30px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .toolbar {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn {\u001b[39m\n\u001b[31m            padding: 10px 15px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 8px;\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            font-size: 14px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            gap: 8px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn:hover {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.3);\u001b[39m\n\u001b[31m            transform: translateY(-2px);\u001b[39m\n\u001b[31m            box-shadow: 0 4px 12px rgba(0,0,0,0.2);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .controls {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .control-btn {\u001b[39m\n\u001b[31m            padding: 12px 20px;\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 25px;\u001b[39m\n\u001b[31m            font-size: 16px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linearize-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .clear-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fa7268, #ff7675);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .speak-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #a29bfe, #6c5ce7);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .demo-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fd79a8, #fdcb6e);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .canvas-container {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.95);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            min-height: 400px;\u001b[39m\n\u001b[31m            position: relative;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        #canvas {\u001b[39m\n\u001b[31m            width: 100%;\u001b[39m\n\u001b[31m            height: 400px;\u001b[39m\n\u001b[31m            border: 2px dashed #ddd;\u001b[39m\n\u001b[31m            border-radius: 10px;\u001b[39m\n\u001b[31m            background: #f8f9fa;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept {\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept:hover {\u001b[39m\n\u001b[31m            transform: scale(1.05);\u001b[39m\n\u001b[31m            filter: brightness(1.1);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept text {\u001b[39m\n\u001b[31m            font-size: 20px;\u001b[39m\n\u001b[31m            text-anchor: middle;\u001b[39m\n\u001b[31m            dominant-baseline: middle;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .relation-line {\u001b[39m\n\u001b[31m            stroke-width: 3;\u001b[39m\n\u001b[31m            stroke-linecap: round;\u001b[39m\n\u001b[31m            opacity: 0.7;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .instructions {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        @keyframes pulse {\u001b[39m\n\u001b[31m            0%, 100% { transform: scale(1); }\u001b[39m\n\u001b[31m            50% { transform: scale(1.1); }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .pulsing {\u001b[39m\n\u001b[31m            animation: pulse 2s infinite;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linear-display {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-top: 20px;\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            min-height: 60px;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .phoneme {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            padding: 8px 15px;\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            font-family: monospace;\u001b[39m\n\u001b[31m            font-size: 18px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            margin: 5px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m    </style>\u001b[39m\n\u001b[31m</head>\u001b[39m\n\u001b[31m<body>\u001b[39m\n\u001b[31m    <div class=\\\"container\\\">\u001b[39m\n\u001b[31m        <h1>🎯 PaniniGraph Simplifié</h1>\u001b[39m\n\u001b[31m        <p class=\\\"subtitle\\\">Symboles cohérents - Une modalité, clarté maximale</p>\u001b[39m\n\u001b[31m        \u001b[39m\n\u001b[31m        <div class=\\\"instructions\\\">\u001b[39m\n\u001b[31m            <h3>🎯 Système Unifié Simplifié</h3>\u001b[39m\n\u001b[31m            <p>1. <strong>Symboles homogènes</strong> : Formes géométriques pures pour une cohérence parfaite</p>\u001b[39m\n\u001b[31m            <p>2. <strong>Une seule représentation</strong> : Fini la confusion entre modalités multiples</p>\u001b[39m\n\u001b[31m            <p>3. <strong>Sémantique immédiate</strong> : Chaque forme évoque directement son concept</p>\u001b[39m\n\u001b[31m            <p>4. Placez les primitives puis \\\"📏 Linéariser\\\" pour voir l'animation</p>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"toolbar\\\">\u001b[39m\n\u001b[31m            <div>\u001b[39m\n\u001b[31m                <strong>Primitives Dhātu Simplifiées :</strong><br>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('existence')\\\" title=\\\"/pa/ - Ancrage stable\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⬢</span> EXISTENCE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('transformation')\\\" title=\\\"/ta/ - Changement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⟲</span> TRANSFORMATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('structure')\\\" title=\\\"/ka/ - Organisation\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">▦</span> STRUCTURE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('flux')\\\" title=\\\"/sa/ - Écoulement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">≈</span> FLUX\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('liaison')\\\" title=\\\"/ma/ - Connexion\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◎</span> LIAISON\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('negation')\\\" title=\\\"/na/ - Absence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◯</span> NÉGATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('iteration')\\\" title=\\\"/la/ - Répétition\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⋯</span> ITÉRATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('reflection')\\\" title=\\\"\u001b[7m/ra/\u001b[27m - Symétrie\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⧨</span> RÉFLEXION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('unification')\\\" title=\\\"/wa/ - Convergence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◆</span> UNIFICATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m            </div>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"controls\\\">\u001b[39m\n\u001b[31m            <button class=\\\"control-btn linearize-btn\\\" onclick=\\\"linearizeGraph()\\\">📏 Linéariser</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn clear-btn\\\" onclick=\\\"clearCanvas()\\\">🗑️ Effacer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn speak-btn\\\" onclick=\\\"speakPhonemes()\\\">🔊 Prononcer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn demo-btn\\\" onclick=\\\"loadDemo()\\\">🎬 Démo</button>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"canvas-container\\\">\u001b[39m\n\u001b[31m            <svg id=\\\"canvas\\\" viewBox=\\\"0 0 800 400\\\">\u001b[39m\n\u001b[31m                <!-- Zone de placement des concepts -->\u001b[39m\n\u001b[31m            </svg>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"linear-display\\\" id=\\\"linearDisplay\\\">\u001b[39m\n\u001b[31m            <em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m    </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m    <script>\u001b[39m\n\u001b[31m        // Système Phonétique Corrigé - Acquisition Enfantine Optimisée\u001b[39m\n\u001b[31m        const primitiveSystem = {\u001b[39m\n\u001b[31m            'existence': {\u001b[39m\n\u001b[31m                phoneme: '/pi/',\u001b[39m\n\u001b[31m                symbol: \\\"⬢\\\",\u001b[39m\n\u001b[31m                description: \\\"Entité précise, existence délimitée\\\",\u001b[39m\n\u001b[31m                color: '#e74c3c'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'transformation': {\u001b[39m\n\u001b[31m                phoneme: '/tu/',\u001b[39m\n\u001b[31m                symbol: \\\"⟲\\\",\u001b[39m\n\u001b[31m                description: \\\"Processus continu, évolution fluide\\\",\u001b[39m\n\u001b[31m                color: '#3498db'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'structure': {\u001b[39m\n\u001b[31m                phoneme: '/ka/',\u001b[39m\n\u001b[31m                symbol: \\\"▦\\\",\u001b[39m\n\u001b[31m                description: \\\"Architecture stable, organisation solide\\\",\u001b[39m\n\u001b[31m                color: '#2ecc71'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'flux': {\u001b[39m\n\u001b[31m                phoneme: '/ba/',\u001b[39m\n\u001b[31m                symbol: \\\"≈\\\",\u001b[39m\n\u001b[31m                description: \\\"Écoulement libre, flux naturel\\\",\u001b[39m\n\u001b[31m                color: '#f39c12'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'liaison': {\u001b[39m\n\u001b[31m                phoneme: '/mu/',\u001b[39m\n\u001b[31m                symbol: \\\"◎\\\",\u001b[39m\n\u001b[31m                description: \\\"Centre focal, concentration unifiante\\\",\u001b[39m\n\u001b[31m                color: '#9b59b6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'negation': {\u001b[39m\n\u001b[31m                phoneme: '/ni/',\u001b[39m\n\u001b[31m                symbol: \\\"◯\\\",\u001b[39m\n\u001b[31m                description: \\\"Unité complète, totalité fermée\\\",\u001b[39m\n\u001b[31m                color: '#95a5a6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'iteration': {\u001b[39m\n\u001b[31m                phoneme: '/da/',\u001b[39m\n\u001b[31m                symbol: \\\"⋯\\\",\u001b[39m\n\u001b[31m                description: \\\"Connexion directe, liaison immédiate\\\",\u001b[39m\n\u001b[31m                color: '#e67e22'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'reflection': {\u001b[39m\n\u001b[31m                phoneme: '/gi/',\u001b[39m\n\u001b[31m                symbol: \\\"⧨\\\",\u001b[39m\n\u001b[31m                description: \\\"Interaction dynamique, relation active\\\",\u001b[39m\n\u001b[31m                color: '#34495e'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'unification': {\u001b[39m\n\u001b[31m                phoneme: '/bu/',\u001b[39m\n\u001b[31m                symbol: \\\"◆\\\",\u001b[39m\n\u001b[31m                description: \\\"Synthèse complète, fusion totale\\\",\u001b[39m\n\u001b[31m                color: '#f1c40f'\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        };\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        let concepts = [];\u001b[39m\n\u001b[31m        let isLinearized = false;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function addPrimitive(type) {\u001b[39m\n\u001b[31m            if (isLinearized) {\u001b[39m\n\u001b[31m                alert('Effacez d\\\\'abord pour ajouter de nouveaux concepts');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            const rect = canvas.getBoundingClientRect();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Position aléatoire dans le canvas\u001b[39m\n\u001b[31m            const x = Math.random() * 700 + 50;\u001b[39m\n\u001b[31m            const y = Math.random() * 300 + 50;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const primitive = primitiveSystem[type];\u001b[39m\n\u001b[31m            const conceptId = `concept-${Date.now()}`;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Créer l'élément SVG\u001b[39m\n\u001b[31m            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\u001b[39m\n\u001b[31m            group.setAttribute('class', 'concept');\u001b[39m\n\u001b[31m            group.setAttribute('id', conceptId);\u001b[39m\n\u001b[31m            group.setAttribute('transform', `translate(${x}, ${y})`);\u001b[39m\n\u001b[31m            group.setAttribute('data-type', type);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Cercle de fond\u001b[39m\n\u001b[31m            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\u001b[39m\n\u001b[31m            circle.setAttribute('cx', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('cy', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('r', '25');\u001b[39m\n\u001b[31m            circle.setAttribute('fill', primitive.color);\u001b[39m\n\u001b[31m            circle.setAttribute('stroke', 'white');\u001b[39m\n\u001b[31m            circle.setAttribute('stroke-width', '2');\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Symbole\u001b[39m\n\u001b[31m            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\u001b[39m\n\u001b[31m            text.setAttribute('x', '0');\u001b[39m\n\u001b[31m            text.setAttribute('y', '5');\u001b[39m\n\u001b[31m            text.setAttribute('fill', 'white');\u001b[39m\n\u001b[31m            text.setAttribute('font-size', '20');\u001b[39m\n\u001b[31m            text.setAttribute('text-anchor', 'middle');\u001b[39m\n\u001b[31m            text.setAttribute('dominant-baseline', 'middle');\u001b[39m\n\u001b[31m            text.textContent = primitive.symbol;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            group.appendChild(circle);\u001b[39m\n\u001b[31m            group.appendChild(text);\u001b[39m\n\u001b[31m            canvas.appendChild(group);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Ajouter à la liste\u001b[39m\n\u001b[31m            concepts.push({\u001b[39m\n\u001b[31m                id: conceptId,\u001b[39m\n\u001b[31m                type: type,\u001b[39m\n\u001b[31m                x: x,\u001b[39m\n\u001b[31m                y: y,\u001b[39m\n\u001b[31m                element: group\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation d'apparition\u001b[39m\n\u001b[31m            gsap.from(group, {\u001b[39m\n\u001b[31m                scale: 0,\u001b[39m\n\u001b[31m                rotation: 360,\u001b[39m\n\u001b[31m                duration: 0.5,\u001b[39m\n\u001b[31m                ease: \\\"back.out(1.7)\\\"\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function clearCanvas() {\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                canvas.removeChild(concept.element);\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            concepts = [];\u001b[39m\n\u001b[31m            isLinearized = false;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                '<em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>';\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function linearizeGraph() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Ajoutez des concepts d\\\\'abord !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            isLinearized = true;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Trier les concepts par position X (de gauche à droite)\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation vers une ligne horizontale\u001b[39m\n\u001b[31m            sortedConcepts.forEach((concept, index) => {\u001b[39m\n\u001b[31m                const targetX = 100 + index * 80;\u001b[39m\n\u001b[31m                const targetY = 200;\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                gsap.to(concept.element, {\u001b[39m\n\u001b[31m                    attr: { transform: `translate(${targetX}, ${targetY})` },\u001b[39m\n\u001b[31m                    duration: 1,\u001b[39m\n\u001b[31m                    delay: index * 0.1,\u001b[39m\n\u001b[31m                    ease: \\\"power2.inOut\\\"\u001b[39m\n\u001b[31m                });\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                concept.x = targetX;\u001b[39m\n\u001b[31m                concept.y = targetY;\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Afficher la séquence phonémique\u001b[39m\n\u001b[31m            setTimeout(() => {\u001b[39m\n\u001b[31m                const phonemes = sortedConcepts.map(concept => {\u001b[39m\n\u001b[31m                    const primitive = primitiveSystem[concept.type];\u001b[39m\n\u001b[31m                    return `<span class=\\\"phoneme\\\" style=\\\"background-color: ${primitive.color};\\\">${primitive.phoneme}</span>`;\u001b[39m\n\u001b[31m                }).join('');\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                    `<strong>Séquence Phonémique :</strong> ${phonemes}`;\u001b[39m\n\u001b[31m            }, 1500);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function speakPhonemes() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Aucun concept à prononcer !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            const phonemes = sortedConcepts.map(concept => \u001b[39m\n\u001b[31m                primitiveSystem[concept.type].phoneme.replace(/[\\\\/]/g, '')\u001b[39m\n\u001b[31m            ).join(' ');\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            if ('speechSynthesis' in window) {\u001b[39m\n\u001b[31m                const utterance = new SpeechSynthesisUtterance(phonemes);\u001b[39m\n\u001b[31m                utterance.rate = 0.7;\u001b[39m\n\u001b[31m                utterance.pitch = 1.2;\u001b[39m\n\u001b[31m                speechSynthesis.speak(utterance);\u001b[39m\n\u001b[31m            } else {\u001b[39m\n\u001b[31m                alert(`Phonèmes : ${phonemes}`);\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function loadDemo() {\u001b[39m\n\u001b[31m            clearCanvas();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Charger une démonstration avec quelques concepts\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('existence'), 200);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('transformation'), 400);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('liaison'), 600);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('unification'), 800);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        // Clic pour déplacer les concepts\u001b[39m\n\u001b[31m        document.getElementById('canvas').addEventListener('click', function(e) {\u001b[39m\n\u001b[31m            if (isLinearized) return;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const rect = e.target.getBoundingClientRect();\u001b[39m\n\u001b[31m            const canvasRect = this.getBoundingClientRect();\u001b[39m\n\u001b[31m            const x = e.clientX - canvasRect.left;\u001b[39m\n\u001b[31m            const y = e.clientY - canvasRect.top;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Trouver le concept le plus proche pour le déplacer\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                const distance = Math.sqrt(\u001b[39m\n\u001b[31m                    Math.pow(concept.x - x, 2) + Math.pow(concept.y - y, 2)\u001b[39m\n\u001b[31m                );\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                if (distance < 50) {\u001b[39m\n\u001b[31m                    concept.x = x;\u001b[39m\n\u001b[31m                    concept.y = y;\u001b[39m\n\u001b[31m                    \u001b[39m\n\u001b[31m                    gsap.to(concept.element, {\u001b[39m\n\u001b[31m                        attr: { transform: `translate(${x}, ${y})` },\u001b[39m\n\u001b[31m                        duration: 0.3,\u001b[39m\n\u001b[31m                        ease: \\\"power2.out\\\"\u001b[39m\n\u001b[31m                    });\u001b[39m\n\u001b[31m                }\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        });\u001b[39m\n\u001b[31m    </script>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m</body></html>\"\u001b[39m\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:39:29",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 29,
                          "line": 39
                        },
                        "snippet": "\u001b[0m \u001b[90m 37 |\u001b[39m     \n \u001b[90m 38 |\u001b[39m     \u001b[90m// Vérifier absence de consonnes tardives\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 39 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/ra/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// R tardif\u001b[39m\n \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 40 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/la/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// L tardif\u001b[39m\n \u001b[90m 41 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/sa/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// S complexe\u001b[39m\n \u001b[90m 42 |\u001b[39m     \u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 29,
                            "line": 39
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: not \u001b[32m\"/ra/\"\u001b[39m\nReceived string:        \u001b[31m\"<!DOCTYPE html><html lang=\\\"fr\\\"><head>\u001b[39m\n\u001b[31m    <meta charset=\\\"UTF-8\\\">\u001b[39m\n\u001b[31m    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\u001b[39m\n\u001b[31m    <title>PaniniGraph Simplifié - Symboles SVG Cohérents</title>\u001b[39m\n\u001b[31m    <script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js\\\"></script>\u001b[39m\n\u001b[31m    <style>\u001b[39m\n\u001b[31m        body {\u001b[39m\n\u001b[31m            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\u001b[39m\n\u001b[31m            margin: 0;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .container {\u001b[39m\n\u001b[31m            max-width: 1200px;\u001b[39m\n\u001b[31m            margin: 0 auto;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            backdrop-filter: blur(10px);\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        h1 {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            font-size: 2.5em;\u001b[39m\n\u001b[31m            margin-bottom: 10px;\u001b[39m\n\u001b[31m            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .subtitle {\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            opacity: 0.8;\u001b[39m\n\u001b[31m            margin-bottom: 30px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .toolbar {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn {\u001b[39m\n\u001b[31m            padding: 10px 15px;\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 8px;\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            font-size: 14px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            gap: 8px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .primitive-btn:hover {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.3);\u001b[39m\n\u001b[31m            transform: translateY(-2px);\u001b[39m\n\u001b[31m            box-shadow: 0 4px 12px rgba(0,0,0,0.2);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .controls {\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .control-btn {\u001b[39m\n\u001b[31m            padding: 12px 20px;\u001b[39m\n\u001b[31m            border: none;\u001b[39m\n\u001b[31m            border-radius: 25px;\u001b[39m\n\u001b[31m            font-size: 16px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linearize-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .clear-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fa7268, #ff7675);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .speak-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #a29bfe, #6c5ce7);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .demo-btn {\u001b[39m\n\u001b[31m            background: linear-gradient(45deg, #fd79a8, #fdcb6e);\u001b[39m\n\u001b[31m            color: white;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .canvas-container {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.95);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m            min-height: 400px;\u001b[39m\n\u001b[31m            position: relative;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        #canvas {\u001b[39m\n\u001b[31m            width: 100%;\u001b[39m\n\u001b[31m            height: 400px;\u001b[39m\n\u001b[31m            border: 2px dashed #ddd;\u001b[39m\n\u001b[31m            border-radius: 10px;\u001b[39m\n\u001b[31m            background: #f8f9fa;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept {\u001b[39m\n\u001b[31m            cursor: pointer;\u001b[39m\n\u001b[31m            transition: all 0.3s ease;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept:hover {\u001b[39m\n\u001b[31m            transform: scale(1.05);\u001b[39m\n\u001b[31m            filter: brightness(1.1);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .concept text {\u001b[39m\n\u001b[31m            font-size: 20px;\u001b[39m\n\u001b[31m            text-anchor: middle;\u001b[39m\n\u001b[31m            dominant-baseline: middle;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .relation-line {\u001b[39m\n\u001b[31m            stroke-width: 3;\u001b[39m\n\u001b[31m            stroke-linecap: round;\u001b[39m\n\u001b[31m            opacity: 0.7;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .instructions {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-bottom: 20px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        @keyframes pulse {\u001b[39m\n\u001b[31m            0%, 100% { transform: scale(1); }\u001b[39m\n\u001b[31m            50% { transform: scale(1.1); }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .pulsing {\u001b[39m\n\u001b[31m            animation: pulse 2s infinite;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .linear-display {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.1);\u001b[39m\n\u001b[31m            border-radius: 15px;\u001b[39m\n\u001b[31m            padding: 20px;\u001b[39m\n\u001b[31m            margin-top: 20px;\u001b[39m\n\u001b[31m            text-align: center;\u001b[39m\n\u001b[31m            min-height: 60px;\u001b[39m\n\u001b[31m            display: flex;\u001b[39m\n\u001b[31m            align-items: center;\u001b[39m\n\u001b[31m            justify-content: center;\u001b[39m\n\u001b[31m            flex-wrap: wrap;\u001b[39m\n\u001b[31m            gap: 10px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        .phoneme {\u001b[39m\n\u001b[31m            background: rgba(255, 255, 255, 0.2);\u001b[39m\n\u001b[31m            padding: 8px 15px;\u001b[39m\n\u001b[31m            border-radius: 20px;\u001b[39m\n\u001b[31m            font-family: monospace;\u001b[39m\n\u001b[31m            font-size: 18px;\u001b[39m\n\u001b[31m            font-weight: bold;\u001b[39m\n\u001b[31m            margin: 5px;\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m    </style>\u001b[39m\n\u001b[31m</head>\u001b[39m\n\u001b[31m<body>\u001b[39m\n\u001b[31m    <div class=\\\"container\\\">\u001b[39m\n\u001b[31m        <h1>🎯 PaniniGraph Simplifié</h1>\u001b[39m\n\u001b[31m        <p class=\\\"subtitle\\\">Symboles cohérents - Une modalité, clarté maximale</p>\u001b[39m\n\u001b[31m        \u001b[39m\n\u001b[31m        <div class=\\\"instructions\\\">\u001b[39m\n\u001b[31m            <h3>🎯 Système Unifié Simplifié</h3>\u001b[39m\n\u001b[31m            <p>1. <strong>Symboles homogènes</strong> : Formes géométriques pures pour une cohérence parfaite</p>\u001b[39m\n\u001b[31m            <p>2. <strong>Une seule représentation</strong> : Fini la confusion entre modalités multiples</p>\u001b[39m\n\u001b[31m            <p>3. <strong>Sémantique immédiate</strong> : Chaque forme évoque directement son concept</p>\u001b[39m\n\u001b[31m            <p>4. Placez les primitives puis \\\"📏 Linéariser\\\" pour voir l'animation</p>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"toolbar\\\">\u001b[39m\n\u001b[31m            <div>\u001b[39m\n\u001b[31m                <strong>Primitives Dhātu Simplifiées :</strong><br>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('existence')\\\" title=\\\"/pa/ - Ancrage stable\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⬢</span> EXISTENCE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('transformation')\\\" title=\\\"/ta/ - Changement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⟲</span> TRANSFORMATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('structure')\\\" title=\\\"/ka/ - Organisation\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">▦</span> STRUCTURE\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('flux')\\\" title=\\\"/sa/ - Écoulement\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">≈</span> FLUX\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('liaison')\\\" title=\\\"/ma/ - Connexion\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◎</span> LIAISON\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('negation')\\\" title=\\\"/na/ - Absence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◯</span> NÉGATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('iteration')\\\" title=\\\"/la/ - Répétition\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⋯</span> ITÉRATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('reflection')\\\" title=\\\"\u001b[7m/ra/\u001b[27m - Symétrie\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">⧨</span> RÉFLEXION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m                <button class=\\\"primitive-btn\\\" onclick=\\\"addPrimitive('unification')\\\" title=\\\"/wa/ - Convergence\\\">\u001b[39m\n\u001b[31m                    <span style=\\\"font-size: 18px;\\\">◆</span> UNIFICATION\u001b[39m\n\u001b[31m                </button>\u001b[39m\n\u001b[31m            </div>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"controls\\\">\u001b[39m\n\u001b[31m            <button class=\\\"control-btn linearize-btn\\\" onclick=\\\"linearizeGraph()\\\">📏 Linéariser</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn clear-btn\\\" onclick=\\\"clearCanvas()\\\">🗑️ Effacer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn speak-btn\\\" onclick=\\\"speakPhonemes()\\\">🔊 Prononcer</button>\u001b[39m\n\u001b[31m            <button class=\\\"control-btn demo-btn\\\" onclick=\\\"loadDemo()\\\">🎬 Démo</button>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"canvas-container\\\">\u001b[39m\n\u001b[31m            <svg id=\\\"canvas\\\" viewBox=\\\"0 0 800 400\\\">\u001b[39m\n\u001b[31m                <!-- Zone de placement des concepts -->\u001b[39m\n\u001b[31m            </svg>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        <div class=\\\"linear-display\\\" id=\\\"linearDisplay\\\">\u001b[39m\n\u001b[31m            <em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>\u001b[39m\n\u001b[31m        </div>\u001b[39m\n\u001b[31m    </div>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m    <script>\u001b[39m\n\u001b[31m        // Système Phonétique Corrigé - Acquisition Enfantine Optimisée\u001b[39m\n\u001b[31m        const primitiveSystem = {\u001b[39m\n\u001b[31m            'existence': {\u001b[39m\n\u001b[31m                phoneme: '/pi/',\u001b[39m\n\u001b[31m                symbol: \\\"⬢\\\",\u001b[39m\n\u001b[31m                description: \\\"Entité précise, existence délimitée\\\",\u001b[39m\n\u001b[31m                color: '#e74c3c'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'transformation': {\u001b[39m\n\u001b[31m                phoneme: '/tu/',\u001b[39m\n\u001b[31m                symbol: \\\"⟲\\\",\u001b[39m\n\u001b[31m                description: \\\"Processus continu, évolution fluide\\\",\u001b[39m\n\u001b[31m                color: '#3498db'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'structure': {\u001b[39m\n\u001b[31m                phoneme: '/ka/',\u001b[39m\n\u001b[31m                symbol: \\\"▦\\\",\u001b[39m\n\u001b[31m                description: \\\"Architecture stable, organisation solide\\\",\u001b[39m\n\u001b[31m                color: '#2ecc71'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'flux': {\u001b[39m\n\u001b[31m                phoneme: '/ba/',\u001b[39m\n\u001b[31m                symbol: \\\"≈\\\",\u001b[39m\n\u001b[31m                description: \\\"Écoulement libre, flux naturel\\\",\u001b[39m\n\u001b[31m                color: '#f39c12'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'liaison': {\u001b[39m\n\u001b[31m                phoneme: '/mu/',\u001b[39m\n\u001b[31m                symbol: \\\"◎\\\",\u001b[39m\n\u001b[31m                description: \\\"Centre focal, concentration unifiante\\\",\u001b[39m\n\u001b[31m                color: '#9b59b6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'negation': {\u001b[39m\n\u001b[31m                phoneme: '/ni/',\u001b[39m\n\u001b[31m                symbol: \\\"◯\\\",\u001b[39m\n\u001b[31m                description: \\\"Unité complète, totalité fermée\\\",\u001b[39m\n\u001b[31m                color: '#95a5a6'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'iteration': {\u001b[39m\n\u001b[31m                phoneme: '/da/',\u001b[39m\n\u001b[31m                symbol: \\\"⋯\\\",\u001b[39m\n\u001b[31m                description: \\\"Connexion directe, liaison immédiate\\\",\u001b[39m\n\u001b[31m                color: '#e67e22'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'reflection': {\u001b[39m\n\u001b[31m                phoneme: '/gi/',\u001b[39m\n\u001b[31m                symbol: \\\"⧨\\\",\u001b[39m\n\u001b[31m                description: \\\"Interaction dynamique, relation active\\\",\u001b[39m\n\u001b[31m                color: '#34495e'\u001b[39m\n\u001b[31m            },\u001b[39m\n\u001b[31m            'unification': {\u001b[39m\n\u001b[31m                phoneme: '/bu/',\u001b[39m\n\u001b[31m                symbol: \\\"◆\\\",\u001b[39m\n\u001b[31m                description: \\\"Synthèse complète, fusion totale\\\",\u001b[39m\n\u001b[31m                color: '#f1c40f'\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        };\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        let concepts = [];\u001b[39m\n\u001b[31m        let isLinearized = false;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function addPrimitive(type) {\u001b[39m\n\u001b[31m            if (isLinearized) {\u001b[39m\n\u001b[31m                alert('Effacez d\\\\'abord pour ajouter de nouveaux concepts');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            const rect = canvas.getBoundingClientRect();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Position aléatoire dans le canvas\u001b[39m\n\u001b[31m            const x = Math.random() * 700 + 50;\u001b[39m\n\u001b[31m            const y = Math.random() * 300 + 50;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const primitive = primitiveSystem[type];\u001b[39m\n\u001b[31m            const conceptId = `concept-${Date.now()}`;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Créer l'élément SVG\u001b[39m\n\u001b[31m            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');\u001b[39m\n\u001b[31m            group.setAttribute('class', 'concept');\u001b[39m\n\u001b[31m            group.setAttribute('id', conceptId);\u001b[39m\n\u001b[31m            group.setAttribute('transform', `translate(${x}, ${y})`);\u001b[39m\n\u001b[31m            group.setAttribute('data-type', type);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Cercle de fond\u001b[39m\n\u001b[31m            const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\u001b[39m\n\u001b[31m            circle.setAttribute('cx', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('cy', '0');\u001b[39m\n\u001b[31m            circle.setAttribute('r', '25');\u001b[39m\n\u001b[31m            circle.setAttribute('fill', primitive.color);\u001b[39m\n\u001b[31m            circle.setAttribute('stroke', 'white');\u001b[39m\n\u001b[31m            circle.setAttribute('stroke-width', '2');\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Symbole\u001b[39m\n\u001b[31m            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\u001b[39m\n\u001b[31m            text.setAttribute('x', '0');\u001b[39m\n\u001b[31m            text.setAttribute('y', '5');\u001b[39m\n\u001b[31m            text.setAttribute('fill', 'white');\u001b[39m\n\u001b[31m            text.setAttribute('font-size', '20');\u001b[39m\n\u001b[31m            text.setAttribute('text-anchor', 'middle');\u001b[39m\n\u001b[31m            text.setAttribute('dominant-baseline', 'middle');\u001b[39m\n\u001b[31m            text.textContent = primitive.symbol;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            group.appendChild(circle);\u001b[39m\n\u001b[31m            group.appendChild(text);\u001b[39m\n\u001b[31m            canvas.appendChild(group);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Ajouter à la liste\u001b[39m\n\u001b[31m            concepts.push({\u001b[39m\n\u001b[31m                id: conceptId,\u001b[39m\n\u001b[31m                type: type,\u001b[39m\n\u001b[31m                x: x,\u001b[39m\n\u001b[31m                y: y,\u001b[39m\n\u001b[31m                element: group\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation d'apparition\u001b[39m\n\u001b[31m            gsap.from(group, {\u001b[39m\n\u001b[31m                scale: 0,\u001b[39m\n\u001b[31m                rotation: 360,\u001b[39m\n\u001b[31m                duration: 0.5,\u001b[39m\n\u001b[31m                ease: \\\"back.out(1.7)\\\"\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function clearCanvas() {\u001b[39m\n\u001b[31m            const canvas = document.getElementById('canvas');\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                canvas.removeChild(concept.element);\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m            concepts = [];\u001b[39m\n\u001b[31m            isLinearized = false;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                '<em>Placez des concepts puis cliquez \\\"📏 Linéariser\\\" pour voir la séquence phonémique</em>';\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function linearizeGraph() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Ajoutez des concepts d\\\\'abord !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            isLinearized = true;\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Trier les concepts par position X (de gauche à droite)\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Animation vers une ligne horizontale\u001b[39m\n\u001b[31m            sortedConcepts.forEach((concept, index) => {\u001b[39m\n\u001b[31m                const targetX = 100 + index * 80;\u001b[39m\n\u001b[31m                const targetY = 200;\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                gsap.to(concept.element, {\u001b[39m\n\u001b[31m                    attr: { transform: `translate(${targetX}, ${targetY})` },\u001b[39m\n\u001b[31m                    duration: 1,\u001b[39m\n\u001b[31m                    delay: index * 0.1,\u001b[39m\n\u001b[31m                    ease: \\\"power2.inOut\\\"\u001b[39m\n\u001b[31m                });\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                concept.x = targetX;\u001b[39m\n\u001b[31m                concept.y = targetY;\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            // Afficher la séquence phonémique\u001b[39m\n\u001b[31m            setTimeout(() => {\u001b[39m\n\u001b[31m                const phonemes = sortedConcepts.map(concept => {\u001b[39m\n\u001b[31m                    const primitive = primitiveSystem[concept.type];\u001b[39m\n\u001b[31m                    return `<span class=\\\"phoneme\\\" style=\\\"background-color: ${primitive.color};\\\">${primitive.phoneme}</span>`;\u001b[39m\n\u001b[31m                }).join('');\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                document.getElementById('linearDisplay').innerHTML = \u001b[39m\n\u001b[31m                    `<strong>Séquence Phonémique :</strong> ${phonemes}`;\u001b[39m\n\u001b[31m            }, 1500);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function speakPhonemes() {\u001b[39m\n\u001b[31m            if (concepts.length === 0) {\u001b[39m\n\u001b[31m                alert('Aucun concept à prononcer !');\u001b[39m\n\u001b[31m                return;\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            const sortedConcepts = [...concepts].sort((a, b) => a.x - b.x);\u001b[39m\n\u001b[31m            const phonemes = sortedConcepts.map(concept => \u001b[39m\n\u001b[31m                primitiveSystem[concept.type].phoneme.replace(/[\\\\/]/g, '')\u001b[39m\n\u001b[31m            ).join(' ');\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m            if ('speechSynthesis' in window) {\u001b[39m\n\u001b[31m                const utterance = new SpeechSynthesisUtterance(phonemes);\u001b[39m\n\u001b[31m                utterance.rate = 0.7;\u001b[39m\n\u001b[31m                utterance.pitch = 1.2;\u001b[39m\n\u001b[31m                speechSynthesis.speak(utterance);\u001b[39m\n\u001b[31m            } else {\u001b[39m\n\u001b[31m                alert(`Phonèmes : ${phonemes}`);\u001b[39m\n\u001b[31m            }\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        function loadDemo() {\u001b[39m\n\u001b[31m            clearCanvas();\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Charger une démonstration avec quelques concepts\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('existence'), 200);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('transformation'), 400);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('liaison'), 600);\u001b[39m\n\u001b[31m            setTimeout(() => addPrimitive('unification'), 800);\u001b[39m\n\u001b[31m        }\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m        // Clic pour déplacer les concepts\u001b[39m\n\u001b[31m        document.getElementById('canvas').addEventListener('click', function(e) {\u001b[39m\n\u001b[31m            if (isLinearized) return;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            const rect = e.target.getBoundingClientRect();\u001b[39m\n\u001b[31m            const canvasRect = this.getBoundingClientRect();\u001b[39m\n\u001b[31m            const x = e.clientX - canvasRect.left;\u001b[39m\n\u001b[31m            const y = e.clientY - canvasRect.top;\u001b[39m\n\u001b[31m            \u001b[39m\n\u001b[31m            // Trouver le concept le plus proche pour le déplacer\u001b[39m\n\u001b[31m            concepts.forEach(concept => {\u001b[39m\n\u001b[31m                const distance = Math.sqrt(\u001b[39m\n\u001b[31m                    Math.pow(concept.x - x, 2) + Math.pow(concept.y - y, 2)\u001b[39m\n\u001b[31m                );\u001b[39m\n\u001b[31m                \u001b[39m\n\u001b[31m                if (distance < 50) {\u001b[39m\n\u001b[31m                    concept.x = x;\u001b[39m\n\u001b[31m                    concept.y = y;\u001b[39m\n\u001b[31m                    \u001b[39m\n\u001b[31m                    gsap.to(concept.element, {\u001b[39m\n\u001b[31m                        attr: { transform: `translate(${x}, ${y})` },\u001b[39m\n\u001b[31m                        duration: 0.3,\u001b[39m\n\u001b[31m                        ease: \\\"power2.out\\\"\u001b[39m\n\u001b[31m                    });\u001b[39m\n\u001b[31m                }\u001b[39m\n\u001b[31m            });\u001b[39m\n\u001b[31m        });\u001b[39m\n\u001b[31m    </script>\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m\u001b[39m\n\u001b[31m</body></html>\"\u001b[39m\n\n\u001b[0m \u001b[90m 37 |\u001b[39m     \n \u001b[90m 38 |\u001b[39m     \u001b[90m// Vérifier absence de consonnes tardives\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 39 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/ra/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// R tardif\u001b[39m\n \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 40 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/la/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// L tardif\u001b[39m\n \u001b[90m 41 |\u001b[39m     expect(pageContent)\u001b[33m.\u001b[39mnot\u001b[33m.\u001b[39mtoContain(\u001b[32m'/sa/'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// S complexe\u001b[39m\n \u001b[90m 42 |\u001b[39m     \u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:39:29\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:35.304Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-9dacd-nsonnes-précoces-uniquement-chromium/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-9dacd-nsonnes-précoces-uniquement-chromium/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-9dacd-nsonnes-précoces-uniquement-chromium/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 29,
                        "line": 39
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-d4dda6c03817fe3a1d4a",
              "file": "phonetique-corrigee.spec.js",
              "line": 35,
              "column": 3
            },
            {
              "title": "Descriptions mises à jour",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 10,
                      "parallelIndex": 3,
                      "status": "failed",
                      "duration": 6421,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=Entité précise')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=Entité précise')\u001b[22m\n",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=Entité précise')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=Entité précise')\u001b[22m\n\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:56:55",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 55,
                          "line": 56
                        },
                        "snippet": "\u001b[0m \u001b[90m 54 |\u001b[39m   test(\u001b[32m'Descriptions mises à jour'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m 55 |\u001b[39m     \u001b[90m// Vérifier que les descriptions reflètent les corrections\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 56 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Entité précise'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 57 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Processus continu'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 58 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Écoulement libre'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 59 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Centre focal'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 55,
                            "line": 56
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('text=Entité précise')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=Entité précise')\u001b[22m\n\n\n\u001b[0m \u001b[90m 54 |\u001b[39m   test(\u001b[32m'Descriptions mises à jour'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m 55 |\u001b[39m     \u001b[90m// Vérifier que les descriptions reflètent les corrections\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 56 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Entité précise'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                       \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 57 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Processus continu'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 58 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Écoulement libre'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 59 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Centre focal'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:56:55\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:37.633Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a74e5-e-Descriptions-mises-à-jour-chromium/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a74e5-e-Descriptions-mises-à-jour-chromium/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-a74e5-e-Descriptions-mises-à-jour-chromium/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 55,
                        "line": 56
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-3868ebf669cd76c7ac9b",
              "file": "phonetique-corrigee.spec.js",
              "line": 54,
              "column": 3
            },
            {
              "title": "Interface fonctionnelle avec nouveau système",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 11,
                      "parallelIndex": 2,
                      "status": "failed",
                      "duration": 8202,
                      "error": {
                        "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('.linearized-sequence')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('.linearized-sequence')\u001b[22m\n",
                        "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('.linearized-sequence')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('.linearized-sequence')\u001b[22m\n\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:77:56",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 56,
                          "line": 77
                        },
                        "snippet": "\u001b[0m \u001b[90m 75 |\u001b[39m     \n \u001b[90m 76 |\u001b[39m     \u001b[90m// Vérifier que la nouvelle séquence apparaît\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'.linearized-sequence'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n \u001b[90m 79 |\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m 80 |\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 56,
                            "line": 77
                          },
                          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mlocator\u001b[39m\u001b[2m).\u001b[22mtoBeVisible\u001b[2m()\u001b[22m failed\n\nLocator:  locator('.linearized-sequence')\nExpected: visible\nReceived: <element(s) not found>\nTimeout:  5000ms\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('.linearized-sequence')\u001b[22m\n\n\n\u001b[0m \u001b[90m 75 |\u001b[39m     \n \u001b[90m 76 |\u001b[39m     \u001b[90m// Vérifier que la nouvelle séquence apparaît\u001b[39m\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 77 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'.linearized-sequence'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                        \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 78 |\u001b[39m   })\u001b[33m;\u001b[39m\n \u001b[90m 79 |\u001b[39m })\u001b[33m;\u001b[39m\n \u001b[90m 80 |\u001b[39m\u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:77:56\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:38.181Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-958af-nnelle-avec-nouveau-système-chromium/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-958af-nnelle-avec-nouveau-système-chromium/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Phonét-958af-nnelle-avec-nouveau-système-chromium/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 56,
                        "line": 77
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-1fb57ebe89ee77909869",
              "file": "phonetique-corrigee.spec.js",
              "line": 66,
              "column": 3
            }
          ]
        },
        {
          "title": "Demo Corpus Multilingue - Phonétique Corrigée",
          "file": "phonetique-corrigee.spec.js",
          "line": 81,
          "column": 6,
          "specs": [
            {
              "title": "Séquence phonémique corrigée affichée",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 5,
                      "parallelIndex": 5,
                      "status": "failed",
                      "duration": 5021,
                      "error": {
                        "message": "Error: expect.toBeVisible: Error: strict mode violation: locator('text=/pi gi ba tu ka bu/') resolved to 3 elements:\n    1) <span class=\"phonemic\">/pi gi ba tu ka bu/</span> aka locator('#conceptGraph').getByText('/pi gi ba tu ka bu/')\n    2) <div class=\"phonemic\">/pi gi ba tu ka bu/</div> aka getByText('/pi gi ba tu ka bu/').nth(1)\n    3) <div class=\"phonemic\">/pi gi ba tu ka bu/</div> aka getByText('/pi gi ba tu ka bu/').nth(2)\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi gi ba tu ka bu/')\u001b[22m\n",
                        "stack": "Error: expect.toBeVisible: Error: strict mode violation: locator('text=/pi gi ba tu ka bu/') resolved to 3 elements:\n    1) <span class=\"phonemic\">/pi gi ba tu ka bu/</span> aka locator('#conceptGraph').getByText('/pi gi ba tu ka bu/')\n    2) <div class=\"phonemic\">/pi gi ba tu ka bu/</div> aka getByText('/pi gi ba tu ka bu/').nth(1)\n    3) <div class=\"phonemic\">/pi gi ba tu ka bu/</div> aka getByText('/pi gi ba tu ka bu/').nth(2)\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi gi ba tu ka bu/')\u001b[22m\n\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:87:60",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 60,
                          "line": 87
                        },
                        "snippet": "\u001b[0m \u001b[90m 85 |\u001b[39m\n \u001b[90m 86 |\u001b[39m   test(\u001b[32m'Séquence phonémique corrigée affichée'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/pi gi ba tu ka bu/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 88 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Triangle vocalique'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 89 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=consonnes précoces'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 90 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 60,
                            "line": 87
                          },
                          "message": "Error: expect.toBeVisible: Error: strict mode violation: locator('text=/pi gi ba tu ka bu/') resolved to 3 elements:\n    1) <span class=\"phonemic\">/pi gi ba tu ka bu/</span> aka locator('#conceptGraph').getByText('/pi gi ba tu ka bu/')\n    2) <div class=\"phonemic\">/pi gi ba tu ka bu/</div> aka getByText('/pi gi ba tu ka bu/').nth(1)\n    3) <div class=\"phonemic\">/pi gi ba tu ka bu/</div> aka getByText('/pi gi ba tu ka bu/').nth(2)\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi gi ba tu ka bu/')\u001b[22m\n\n\n\u001b[0m \u001b[90m 85 |\u001b[39m\n \u001b[90m 86 |\u001b[39m   test(\u001b[32m'Séquence phonémique corrigée affichée'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/pi gi ba tu ka bu/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 88 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Triangle vocalique'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 89 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=consonnes précoces'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 90 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:87:60\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:25.616Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Demo-C-0e9b2-honémique-corrigée-affichée-firefox/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Demo-C-0e9b2-honémique-corrigée-affichée-firefox/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Demo-C-0e9b2-honémique-corrigée-affichée-firefox/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 60,
                        "line": 87
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-b4456ce12264cc145608",
              "file": "phonetique-corrigee.spec.js",
              "line": 86,
              "column": 3
            },
            {
              "title": "Langues mises à jour avec nouvelle phonétique",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "firefox",
                  "projectName": "firefox",
                  "results": [
                    {
                      "workerIndex": 6,
                      "parallelIndex": 6,
                      "status": "passed",
                      "duration": 6511,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:25.455Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "14bbde92fdd67df45226-a6f2f3d2d59c93b5e6c0",
              "file": "phonetique-corrigee.spec.js",
              "line": 92,
              "column": 3
            },
            {
              "title": "Séquence phonémique corrigée affichée",
              "ok": false,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 8,
                      "parallelIndex": 1,
                      "status": "failed",
                      "duration": 1268,
                      "error": {
                        "message": "Error: expect.toBeVisible: Error: strict mode violation: locator('text=/pi gi ba tu ka bu/') resolved to 2 elements:\n    1) <span class=\"phonemic\">/pi gi ba tu ka bu/</span> aka locator('#conceptGraph').getByText('/pi gi ba tu ka bu/')\n    2) <div class=\"phonemic\">/pi gi ba tu ka bu/</div> aka locator('#languagesList').getByText('/pi gi ba tu ka bu/')\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi gi ba tu ka bu/')\u001b[22m\n",
                        "stack": "Error: expect.toBeVisible: Error: strict mode violation: locator('text=/pi gi ba tu ka bu/') resolved to 2 elements:\n    1) <span class=\"phonemic\">/pi gi ba tu ka bu/</span> aka locator('#conceptGraph').getByText('/pi gi ba tu ka bu/')\n    2) <div class=\"phonemic\">/pi gi ba tu ka bu/</div> aka locator('#languagesList').getByText('/pi gi ba tu ka bu/')\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi gi ba tu ka bu/')\u001b[22m\n\n    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:87:60",
                        "location": {
                          "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                          "column": 60,
                          "line": 87
                        },
                        "snippet": "\u001b[0m \u001b[90m 85 |\u001b[39m\n \u001b[90m 86 |\u001b[39m   test(\u001b[32m'Séquence phonémique corrigée affichée'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/pi gi ba tu ka bu/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 88 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Triangle vocalique'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 89 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=consonnes précoces'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 90 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m"
                      },
                      "errors": [
                        {
                          "location": {
                            "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                            "column": 60,
                            "line": 87
                          },
                          "message": "Error: expect.toBeVisible: Error: strict mode violation: locator('text=/pi gi ba tu ka bu/') resolved to 2 elements:\n    1) <span class=\"phonemic\">/pi gi ba tu ka bu/</span> aka locator('#conceptGraph').getByText('/pi gi ba tu ka bu/')\n    2) <div class=\"phonemic\">/pi gi ba tu ka bu/</div> aka locator('#languagesList').getByText('/pi gi ba tu ka bu/')\n\nCall log:\n\u001b[2m  - Expect \"toBeVisible\" with timeout 5000ms\u001b[22m\n\u001b[2m  - waiting for locator('text=/pi gi ba tu ka bu/')\u001b[22m\n\n\n\u001b[0m \u001b[90m 85 |\u001b[39m\n \u001b[90m 86 |\u001b[39m   test(\u001b[32m'Séquence phonémique corrigée affichée'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 87 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=/pi gi ba tu ka bu/'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m    |\u001b[39m                                                            \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n \u001b[90m 88 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=Triangle vocalique'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 89 |\u001b[39m     \u001b[36mawait\u001b[39m expect(page\u001b[33m.\u001b[39mlocator(\u001b[32m'text=consonnes précoces'\u001b[39m))\u001b[33m.\u001b[39mtoBeVisible()\u001b[33m;\u001b[39m\n \u001b[90m 90 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\n\u001b[2m    at /home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js:87:60\u001b[22m"
                        }
                      ],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:36.909Z",
                      "annotations": [],
                      "attachments": [
                        {
                          "name": "screenshot",
                          "contentType": "image/png",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Demo-C-0e9b2-honémique-corrigée-affichée-chromium/test-failed-1.png"
                        },
                        {
                          "name": "video",
                          "contentType": "video/webm",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Demo-C-0e9b2-honémique-corrigée-affichée-chromium/video.webm"
                        },
                        {
                          "name": "error-context",
                          "contentType": "text/markdown",
                          "path": "/home/stephane/GitHub/PaniniFS-Research/test-results/phonetique-corrigee-Demo-C-0e9b2-honémique-corrigée-affichée-chromium/error-context.md"
                        }
                      ],
                      "errorLocation": {
                        "file": "/home/stephane/GitHub/PaniniFS-Research/tests/phonetique-corrigee.spec.js",
                        "column": 60,
                        "line": 87
                      }
                    }
                  ],
                  "status": "unexpected"
                }
              ],
              "id": "14bbde92fdd67df45226-b54c7269574fb1d0b15d",
              "file": "phonetique-corrigee.spec.js",
              "line": 86,
              "column": 3
            },
            {
              "title": "Langues mises à jour avec nouvelle phonétique",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "chromium",
                  "projectName": "chromium",
                  "results": [
                    {
                      "workerIndex": 12,
                      "parallelIndex": 7,
                      "status": "passed",
                      "duration": 3096,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-09-08T15:39:38.883Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "14bbde92fdd67df45226-00349c7d84f2249e967f",
              "file": "phonetique-corrigee.spec.js",
              "line": 92,
              "column": 3
            }
          ]
        }
      ]
    }
  ],
  "errors": [],
  "stats": {
    "startTime": "2025-09-08T15:39:23.472Z",
    "duration": 23187.649,
    "expected": 4,
    "skipped": 0,
    "unexpected": 10,
    "flaky": 0
  }
}